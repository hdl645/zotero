<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<meta name="wpd_version" content="0.2">
<meta name="wpd_baseurl" content="http://book.git-scm.com/4_undoing_in_git_-_reset_and_revert.html">
<meta name="wpd_url" content="http://book.git-scm.com/4_undoing_in_git_-_reset_and_revert.html">
<meta name="wpd_date" content="2008-07-18T16:12Z">



	<title>Git Book - Undoing in Git - Reset and Revert</title>
	<meta name="" http-equiv="content-language" content="en">
	
	<link rel="icon" href="about:blank?favicon.png" type="image/png">
	
  
  <!--[if IE]><link rel="stylesheet" href="blueprint/ie.css" type="text/css" media="screen, projection"><![endif]-->
	
	
<script charset="utf-8" id="injection_graph_func" src="injection_graph_func.js"></script>
<link rel="stylesheet" type="text/css" href="4_undoing_in_git_-_reset_and_revert.css" media="all">
</head>
<body>
<div class="container chapter showgrids">

  <div class="span-21 header">
    <div class="nav"><a href="http://book.git-scm.com/4_advanced_git_log.html">Prev</a>  <a href="http://book.git-scm.com/4_maintaining_git.html">Next</a></div>
    <div class="title"><a href="http://book.git-scm.com/index.html">Git Community Book</a></div>
  </div>
  
  <div class="span-21">
    <br>
  </div>
  
  <div class="span-21">
    <h2> Undoing in Git - Reset and Revert </h2>

<p>If you've messed up the working tree, but haven't yet committed your
mistake, you can return the entire working tree to the last committed
state with</p>

<pre><code>$ git reset --hard HEAD
</code></pre>

<p>If you make a commit that you later wish you hadn't, there are two
fundamentally different ways to fix the problem:</p>

<ol>
<li><p>You can create a new commit that undoes whatever was done
 by the old commit.  This is the correct thing if your
 mistake has already been made public.</p></li>
<li><p>You can go back and modify the old commit.  You should
 never do this if you have already made the history public;
 git does not normally expect the "history" of a project to
 change, and cannot correctly perform repeated merges from
 a branch that has had its history changed.</p></li>
</ol>


<h3> Fixing a mistake with a new commit </h3>

<p>Creating a new commit that reverts an earlier change is very easy;
just pass the <a href="http://www.kernel.org/pub/software/scm/git/docs/git-revert.html">git revert</a> command a reference to the bad
commit; for example, to revert the most recent commit:</p>

<pre><code>$ git revert HEAD
</code></pre>

<p>This will create a new commit which undoes the change in HEAD.  You
will be given a chance to edit the commit message for the new commit.</p>

<p>You can also revert an earlier change, for example, the next-to-last:</p>

<pre><code>$ git revert HEAD^
</code></pre>

<p>In this case git will attempt to undo the old change while leaving
intact any changes made since then.  If more recent changes overlap
with the changes to be reverted, then you will be asked to fix
conflicts manually, just as in the case of &lt;&lt;resolving-a-merge,
resolving a merge&gt;&gt;.</p>


  </div>
  
  <div class="span-21">
    <hr>
    <div class="center"><a href="http://book.git-scm.com/4_advanced_git_log.html">Prev</a>  <a href="http://book.git-scm.com/4_maintaining_git.html">Next</a></div>
    <hr>
  </div>
  
  <div class="span-17 footer">
  	<div class="menu">

  		This book is maintained by Scott Chacon, and hosting is donated by GitHub.
  		<br>
  		Please email me at <a href="mailto:schacon@gmail.com">schacon@gmail.com</a>
  		with patches, suggestions and comments.
	  </div>
  </div>
  <div class="span-4 last center">
    <a href="http://github.com/"><img src="github.png" alt="github logo"></a>
  </div>
  
</div>

</body>
</html>
