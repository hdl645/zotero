<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<meta name="wpd_version" content="0.2">
<meta name="wpd_baseurl" content="http://git.or.cz/gitwiki/GitFaq">
<meta name="wpd_url" content="http://git.or.cz/gitwiki/GitFaq">
<meta name="wpd_date" content="2008-07-08T16:33Z">




<meta name="robots" content="index,nofollow">

<title>GitFaq - GitWiki</title>
<script type="text/javascript" src="common.js"></script>

<script type="text/javascript">

<!--// common functions

// We keep here the state of the search box
searchIsDisabled = false;

function searchChange(e) {
    // Update search buttons status according to search box content.
    // Ignore empty or whitespace search term.
    var value = e.value.replace(/\s+/, '');
    if (value == '' || searchIsDisabled) { 
        searchSetDisabled(true);
    } else {
        searchSetDisabled(false);
    }
}

function searchSetDisabled(flag) {
    // Enable or disable search
    document.getElementById('fullsearch').disabled = flag;
    document.getElementById('titlesearch').disabled = flag;
}

function searchFocus(e) {
    // Update search input content on focus
    if (e.value == 'Search') {
        e.value = '';
        e.className = '';
        searchIsDisabled = false;
    }
}

function searchBlur(e) {
    // Update search input content on blur
    if (e.value == '') {
        e.value = 'Search';
        e.className = 'disabled';
        searchIsDisabled = true;
    }
}

function actionsMenuInit(title) {
    // Initialize action menu
    for (i = 0; i < document.forms.length; i++) {
        var form = document.forms[i];
        if (form.className == 'actionsmenu') {
            // Check if this form needs update
            var div = form.getElementsByTagName('div')[0];
            var label = div.getElementsByTagName('label')[0];
            if (label) {
                // This is the first time: remove label and do buton.
                div.removeChild(label);
                var dobutton = div.getElementsByTagName('input')[0];
                div.removeChild(dobutton);
                // and add menu title
                var select = div.getElementsByTagName('select')[0];
                var item = document.createElement('option');
                item.appendChild(document.createTextNode(title));
                item.value = 'show';
                select.insertBefore(item, select.options[0]);
                select.selectedIndex = 0;
            }
        }
    }
}
//-->
</script>

<script type="text/javascript">

var gui_editor_link_href = "/gitwiki/GitFaq?action=edit&editor=gui";
var gui_editor_link_text = "Edit (GUI)";
</script>        







<link rel="Start" href="http://git.or.cz/gitwiki/FrontPage">
<link rel="Alternate" title="Wiki標記" href="http://git.or.cz/gitwiki/GitFaq?action=raw">
<link rel="Alternate" media="print" title="檢視列印" href="http://git.or.cz/gitwiki/GitFaq?action=print">
<link rel="Search" href="http://git.or.cz/gitwiki/FindPage">
<link rel="Index" href="http://git.or.cz/gitwiki/TitleIndex">
<link rel="Glossary" href="http://git.or.cz/gitwiki/WordIndex">
<link rel="Help" href="http://git.or.cz/gitwiki/HelpOnFormatting">
<script charset="utf-8" id="injection_graph_func" src="injection_graph_func.js"></script>
<link rel="stylesheet" type="text/css" href="GitFaq.css" media="all">
</head>
<body dir="ltr" lang="zh-tw">

<div id="header">
<div id="logo"><a href="http://git.or.cz/gitwiki/FrontPage">GitWiki</a></div>

<form id="searchform" method="get" action="http://git.or.cz/gitwiki/GitFaq">
<div>
<input name="action" value="fullsearch" type="hidden">
<input name="context" value="180" type="hidden">
<label style="display: none;" for="searchinput">尋找:</label>
<input class="disabled" id="searchinput" name="value" value="Search" size="20" onfocus="searchFocus(this)" onblur="searchBlur(this)" onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search" type="text">
<input disabled="disabled" id="titlesearch" name="titlesearch" value="標題" alt="Search Titles" type="submit">
<input disabled="disabled" id="fullsearch" name="fullsearch" value="內文" alt="Search Full Text" type="submit">
</div>
</form>
<script type="text/javascript">

<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<ul id="username"><li><a href="http://git.or.cz/gitwiki/GitFaq?action=login" id="login">登入</a></li></ul>
<div id="locationline">


<ul id="pagelocation">
<li><a class="backlink" title="點一下: 對本頁標題做全文檢索" href="http://git.or.cz/gitwiki/GitFaq?action=fullsearch&value=linkto%3A%22GitFaq%22&context=180">GitFaq</a></li>
</ul>

</div>


<ul id="navibar">
<li class="wikilink"><a href="http://git.or.cz/gitwiki/FrontPage">FrontPage</a></li><li class="wikilink"><a href="http://git.or.cz/gitwiki/RecentChanges">RecentChanges</a></li><li class="wikilink"><a href="http://git.or.cz/gitwiki/FindPage">FindPage</a></li><li class="wikilink"><a href="http://git.or.cz/gitwiki/HelpContents">HelpContents</a></li><li class="current"><a href="http://git.or.cz/gitwiki/GitFaq">GitFaq</a></li>
</ul>

<div id="pageline"><hr style="display: none;"></div>

<ul class="editbar"><li><a name="texteditlink" href="http://git.or.cz/gitwiki/GitFaq?action=edit&editor=text">Edit (Text)</a></li><li><a href="http://git.or.cz/gitwiki/GitFaq?action=edit&editor=gui">Edit (GUI)</a></li><li><a href="http://git.or.cz/gitwiki/GitFaq?action=info">關於</a></li><li><a href="http://git.or.cz/gitwiki/GitFaq?action=AttachFile">Attachments</a></li><li>
<form class="actionsmenu" method="get" action="http://git.or.cz/gitwiki/GitFaq">
<div>
    
    <select name="action" onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show">其他功能:</option><option value="raw">Raw Text</option>
<option value="print">檢視列印</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled="disabled" class="disabled">------------</option>
<option value="SpellCheck">拼字檢查</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled="disabled" class="disabled">------------</option>
<option value="RenamePage" disabled="disabled" class="disabled">重新命名本頁</option>
<option value="DeletePage" disabled="disabled" class="disabled">刪除本頁</option>
<option value="show" disabled="disabled" class="disabled">------------</option>
<option value="MyPages">My Pages</option>
<option value="SubscribeUser">Subscribe User</option>
<option value="show" disabled="disabled" class="disabled">------------</option>
<option value="Despam">Remove Spam</option>
<option value="PackagePages">Package Pages</option>
    </select>
    
</div>
<script type="text/javascript">

<!--// Init menu
actionsMenuInit('其他功能:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" dir="ltr" lang="en">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867"></p><div class="table-of-contents"><p class="table-of-contents-heading">Contents</p><ol><li><a href="#head-5e38b0dbb06ea61854828480c7dfeb504922c34e">General Questions</a><ol><li><a href="#head-2571597679a50f9a862fda4be2756bb7a394604c">What is git ?</a></li><li><a href="#head-90fa13ebe170116f1586156e73b549cc2135b784">Why the 'git' name?</a></li><li><a href="#head-4740bcc3bab81a8b3f11258fdab5d7c853acf5a7">What's the difference between fetch and pull?</a></li><li><a href="#head-436f882a640a14a5a2796a3c10c68b47342b9c2c">What can I use to set up a public repository?</a></li><li><a href="#head-1fbd4a018d45259c197b169e87dafce2a3c6b5f9">Can I add empty directories?</a></li><li><a href="#head-557ab0dbe84efb4e6a091f43c05b326a52b8fc03">Why does git not "track" renames?</a></li><li><a href="#head-20e1658c4fa6259cc9f64dcffefb1f692dc4a237">Why is "git log &lt;filename&gt;" slow?</a></li><li><a href="#head-9972ad5add19d3fd22c803dcdddb39ce6dd3b6af">Why is it wrong to export the environment variable CDPATH?</a></li><li><a href="#head-5089c73227fb1a4da8c0b0e541cbff25f6556602">How come gitweb suddenly disappeared from the project list at kernel.org/git?</a></li><li><a href="#head-1168c3027a2b7060df8c5cf141756c8e0e33139c">What is the difference between a merge and a rebase?</a></li><li><a href="#head-b95747ff2758cc590507b0ac03a1511756401103">Why is "git rm" not the inverse of "git add"?</a></li></ol></li><li><a href="#head-af7531b12eaa2db66cf189654ab4413072e6347d">Features</a><ol><li><a href="#head-0dfecbf4b56fa395d9bf02b02dbcc32b5310c359">Does git convert between CRLF and LF for different platforms?</a></li><li><a href="#head-4a0afe71a2bb7734777a8b0b345e0308aefdbd40">Does git have keyword expansion?</a></li><li><a href="#head-8e622522737b11a14e52bbe45a4aeb71ea3a1dd7">Does git allow arbitrary conversion of contents?</a></li><li><a href="#head-77b8e1a827cb8f9af411aaa889c1c6c8d9b4f17b">Does git convert encodings of file names?</a></li><li><a href="#head-db162fd32ce6fc35ec8ec5c8f0008d49e12b3271">Does git convert encodings of comments and committer names or file content?</a></li><li><a href="#head-7e70881352ec207609dc4d7eedbd0532946a5825">Does git track all file data and metadata?</a></li></ol></li><li><a href="#head-b838b2bf4fd948baa90989c63f96dd74ca956599">Unexpected behavior</a><ol><li><a href="#head-b96f48bc9c925074be9f95c0fce69bcece5f6e73">Why won't I see changes in the remote repo after "git push"?</a></li><li><a href="#head-cca29a12b409e2a370272a48c621557a61d5a2c0">Why git --version is not reporting the "full" version number?</a></li><li><a href="#head-9b3f76f3272bf3cb31974c3629681013e9667c38">"git reset --hard" is not removing some files</a></li><li><a href="#head-c1dc263aca199d347f28872249e6c1f5d519a2df">Why won't "git push" work after I rebased a branch?</a></li><li><a href="#head-3aa45c7d75d40068e07231a5bf8a1a0db9a8b717">Why is "git commit -a" not the default?</a></li><li><a href="#head-bbd07820198a9b8c6ec4fad4932341b64378a5f6">My HTTP repository has updates, which git clone misses. What happened?</a></li><li><a href="#head-76695e517a5f4dc371c613a14a9d88fd0523bf27">Why isn't Git preserving modification time on files?</a></li><li><a href="#head-9dfc528b189148e801031d161201645af532a580">Why does git use a pager for commands like diff/log and --help?</a></li><li><a href="#head-84f9d7fab736b38ad6563c94523f9fca25411f85">Why does git diff sometimes list a file that has no changes?</a></li><li><a href="#head-488bf9644a4376667d5ec7238bd3d3bac97c0cb0">What does the gitk error message ""Can't parse git log output:" mean?</a></li><li><a href="#head-3e8857fa968caf2d68c0ae725949085e752156eb">Why does gitk on Cygwin display "git 1316 tty_list::allocate: No tty allocated"?</a></li></ol></li><li><a href="#head-ff8122a895034101d3814a357a050f06b20231fe">How do I ...</a><ol><li><a href="#head-1ade1fa5a9d19db5af3bbeb5cecb73a8c2d01263">How do I specify what ssh key git should use?</a></li><li><a href="#head-c775c6543d66ec9970764cc5ac1fbd39b456fbef">How do I untrack a file?</a></li><li><a href="#head-cebe2d2fa8e1f424a1ed2310655a5120797fd05f">How do I share a git public repository and use it in a CVS way?</a></li><li><a href="#head-04ee30d2fb9a8bc418eb8acd0fa6792bd68c475d">How can I add a diff of the commit into the commit message window?</a></li><li><a href="#head-46de97a5ac549d3adf406c22674b3325ae25d09c">How would I use "git push" to sync out of a firewalled host?</a></li><li><a href="#head-3a6b504c6dc929dab2d46f9462dddd5fd4334540">How do I check out the tree at a particular tag?</a></li><li><a href="#head-4e023cce2e43e3cde67062bb0a146ff15f0eba79">How to share objects between existing repositories?</a></li><li><a href="#head-d7c489666ff5dc19d46f9385af73b4b860662022">How do I tell git to ignore files?</a></li><li><a href="#head-b0656d18062a5b736df74a5fa182a2fa23cb3bfc">How do I save some local modifications?</a></li><li><a href="#head-67dfccf2c616ec2f7e7343ee0bd1bdb08c2e5e35">How to manually resolve conflicts when Git failed to detect rename?</a></li><li><a href="#head-f2ac5ecb3db6c54e9977bf969c0456091ac332a3">How to revert file to version from current commit?</a></li><li><a href="#head-d1979f624d5240c274ebf1c428d3d74d25d251d0">How to view an old revision of a file or directory?</a></li><li><a href="#head-f23681a24f830c4ede2161622961bc07537d89eb">How do I make a diff between two arbitrary files in different revisions?</a></li><li><a href="#head-ac11406480d09e2df98588e800e41b7256602074">How to fix a broken repository?</a></li><li><a href="#head-d65f30a7ebbc031cc796f1d176d5cbeb0bfc9b5c">How to set up a git server?</a></li><li><a href="#head-ce0019e2eb2e73150a8438ac3f1015f060d057a1">How to create the first project?</a></li><li><a href="#head-14fb68e38f57da989db6dc05879ce2c6d1b8cca1">How do I publish my repo via SFTP?</a></li><li><a href="#head-4accce922b66f2a1188d636bbd20d259db089187">How do I do a quick clone without history revisions?</a></li></ol></li><li><a href="#head-748cd02e89bfc354f7813cafd9ecbce476e38c34">Error diagnostic</a><ol><li><a href="#head-2d5118b0ea8c2ed66fa43cbbadca156065156d1b">Git commit is dying telling me "fatal: empty ident &lt;user@myhost&gt; not allowed", what's wrong?</a></li><li><a href="#head-a188936efde5885e0ff8540c5be897e8029047f7">Why won't git let me change to a different branch?</a></li><li><a href="#head-a1f9a3e511e0b866d788d7cb600637a9b976a994">refs/heads/pu: does not fast forward to branch 'pu'</a></li><li><a href="#head-c8d71d147db36c7b0f0345f5390167a47585bbb1">protocol error: bad line length character</a></li><li><a href="#head-a073591f622d9be44c72e60c9cb0372a611cbcda">"unable to chdir or not a git archive" while pushing</a></li><li><a href="#head-6f976e553404993ae6353d939a7fb3f3321208d8">"needs update" and "not uptodate"</a></li></ol></li><li><a href="#head-ebb0e35f64b552e81426c4506430253cb0e2ab6f">Importing from other revision control systems</a><ol><li><a href="#head-1ffbb9929b86618b41e3a6ed09623085766fdc37">Can I import from tar files (archives)?</a></li><li><a href="#head-0232bee393748f163d256e37f4f6b72946cae456">Can I import from CVS?</a></li><li><a href="#head-39f6a37a32f4256e74f64d56739f49285f368574">Can I import from svn?</a></li><li><a href="#head-d0f4cead1a0c1b54f7d40d5a703b9e3d3ae619ee">Can I import from arch/baz/tla?</a></li><li><a href="#head-ae1025fcddf9938a285932dba7f3f4d817853808">Can I import from Perforce?</a></li><li><a href="#head-929a8825d04dde226c2530f5337d3b3ed8dcc7ce">Can I import from Mercurial?</a></li><li><a href="#head-fb7b196580510dcc2b30576c904bde31690e9575">Can I import from other SCMs?</a></li></ol></li><li><a href="#head-fd306d75ed2715b59bc4a282565a14e460a13f61">References</a></li></ol></div> <span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line867"></p><hr><p class="line874"> <span class="anchor" id="line-4"></span></p><ul><li style="list-style-type: none;"><p class="line891"><strong>See also:</strong> <span class="anchor" id="line-5"></span></p></li><li><p class="line891"><a href="http://git.or.cz/gitwiki/TipsAndTricks">TipsAndTricks</a> page <span class="anchor" id="line-6"></span></p></li></ul><p class="line867">
</p><h1 id="head-5e38b0dbb06ea61854828480c7dfeb504922c34e">General Questions</h1>
<span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><p class="line867">
</p><h2 id="head-2571597679a50f9a862fda4be2756bb7a394604c">What is git ?</h2>
<span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><p class="line874">Git is a distributed version control system developed by Junio Hamano and Linus Torvalds. <span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span></p><p class="line874">Git does not use a centralized server. <span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span></p><p class="line874">Git runs on Linux, BSD, Solaris, Darwin, Windows, and other operating systems. <span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span></p><p class="line867"><span class="anchor" id="git-name"></span> <span class="anchor" id="line-18"></span>
</p><h2 id="head-90fa13ebe170116f1586156e73b549cc2135b784">Why the 'git' name?</h2>
<span class="anchor" id="line-19"></span><p class="line874">Quoting Linus: "I'm an egotistical ***, and I name all my projects after myself. First 'Linux', now 'git'". <span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span></p><p class="line874">('git' is British slang for "silly, stupid, or worthless person"). <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span></p><p class="line874">Alternatively, in Linus' own words as the inventor of git: "git" can mean anything, depending on your mood: <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span></p><ul><li>Random three-letter combination that is pronounceable, and not actually used by any common UNIX command. The fact that it is a mispronunciation of "get" may or may not be relevant. <span class="anchor" id="line-26"></span></li><li>Stupid. Contemptible and despicable. Simple. Take your pick from the dictionary of slang. <span class="anchor" id="line-27"></span></li><li>"Global information tracker": you're in a good mood, and it actually works for you. Angels sing, and a light suddenly fills the room. <span class="anchor" id="line-28"></span></li><li>"Goddamn idiotic truckload of sh*t": when it breaks <span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span></li></ul><p class="line867"><span class="anchor" id="fetch-vs-pull"></span> <span class="anchor" id="line-31"></span>
</p><h2 id="head-4740bcc3bab81a8b3f11258fdab5d7c853acf5a7">What's the difference between fetch and pull?</h2>
<span class="anchor" id="line-32"></span><p class="line874">The short definition is: <span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span></p><p class="line867"><strong>Fetch</strong>: Download  (new) objects and a head from another repository. <span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span></p><p class="line867"><strong>Pull</strong>: Fetch (as defined above), and then merge what was downloaded with the current development. <span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span></p><ul><li><p class="line862">See the <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-fetch.html">git-fetch(1)</a> and <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-pull.html">git-pull(1)</a> man pages or the tutorials for more details. <span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span></p></li></ul><p class="line867"><span class="anchor" id="public-repo"></span> <span class="anchor" id="line-41"></span>
</p><h2 id="head-436f882a640a14a5a2796a3c10c68b47342b9c2c">What can I use to set up a public repository?</h2>
<span class="anchor" id="line-42"></span><p class="line874">A SSH server, an HTTP server, or the git-daemon. Local networks can also use network filesystems, like NFS or SMBFS/CIFS (the Windows networks). <span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span></p><ul><li>It seems not everyone thinks that SMBFS is a good idea; several people on #git hold the opinion that SMBFS should not be used with git. <span class="anchor" id="line-45"></span></li><li><p class="line862">See the <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/tutorial.html">Git tutorial</a> for more details. <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span></p></li></ul><p class="line867"><span class="anchor" id="empty-dirs"></span> <span class="anchor" id="line-48"></span>
</p><h2 id="head-1fbd4a018d45259c197b169e87dafce2a3c6b5f9">Can I add empty directories?</h2>
<span class="anchor" id="line-49"></span><p class="line862">Currently the design of the git index (staging area) only permits <em>files</em> to be listed, and nobody competent enough to make the change to allow empty directories has cared enough about this situation to remedy it. <span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span></p><p class="line874">Directories are added automatically when adding files inside them. That is, directories never have to be added to the repository, and are not tracked on their own. <span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span></p><p class="line862">You can say "<tt>git&nbsp;add&nbsp;&lt;dir&gt;</tt>" and it will add files in there. <span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span></p><p class="line874">If you really need a directory to exist in checkouts you should create a file in it. .gitignore works well for this purpose; you can leave it empty, or fill in the names of files you expect to show up in the directory. <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span></p><p class="line867"><span class="anchor" id="rename-tracking"></span> <span class="anchor" id="line-58"></span>
</p><h2 id="head-557ab0dbe84efb4e6a091f43c05b326a52b8fc03">Why does git not "track" renames?</h2>
<span class="anchor" id="line-59"></span><p class="line867"><a href="http://git.or.cz/gitwiki/Git">Git</a> has to interoperate with a lot of different workflows, for example some changes can come from patches, where rename information may not be available. Relying on explicit rename tracking makes it impossible to merge two trees that have done exactly the same thing, except one did it as a patch (create/delete) and one did it using some other heuristic. <span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span></p><p class="line874">On a second note, tracking renames is really just a special case of tracking how content moves in the tree. In some cases, you may instead be interested in querying when a function was added or moved to a different file. By only relying on the ability to recreate this information when needed, Git aims to provide a more flexible way to track how your tree is changing. <span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span></p><p class="line862">However, this does not mean that Git has no support for renames. The diff machinery in Git has support for automatically detecting renames, this is turned on by the <tt>'-M'</tt> switch to the <tt>git-diff-*</tt> family of commands. The rename detection machinery is used by <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-log.html">git-log(1)</a> and <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-whatchanged.html">git-whatchanged(1)</a>, so for example, <tt>'git-log&nbsp;-M'</tt> will give the commit history with rename information. Git also supports a limited form of merging across renames. The two tools for assigning blame, <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-blame.html">git-blame(1)</a> and <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-annotate.html">git-annotate(1)</a> both uses the automatic rename detection code to track renames. <span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span></p><p class="line862">As a very special case, <tt>'git&nbsp;log'</tt> version 1.5.3 and later has <tt>'--follow'</tt> option that allows you to follow renames when given a single path. <span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span></p><ul><li><p class="line891"><a class="http" href="http://permalink.gmane.org/gmane.comp.version-control.git/217">Mail</a> by Linus on this topic. <span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span></p></li></ul><p class="line862">Git has a rename command <strong>git mv</strong>, but that is just a convenience. The effect is indistinguishable from removing the file and adding another with different name and the same content. <span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span></p><p class="line867"><span class="anchor" id="no-per-file-history"></span> <span class="anchor" id="line-72"></span>
</p><h2 id="head-20e1658c4fa6259cc9f64dcffefb1f692dc4a237">Why is "git log &lt;filename&gt;" slow?</h2>
<span class="anchor" id="line-73"></span><p class="line862">The answer to the question why <tt>git&nbsp;log&nbsp;&lt;filename&gt;</tt> takes so long to find a small number of commits which changed a given file lies in the fact that Git looks at <strong>all</strong> the commits to find that. <span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span></p><p class="line862">Git simply <strong>does not have</strong> per-file history. Not having per-file history is what allows Git to do <span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span></p><p class="line867"><span class="anchor" id="line-78"></span></p><pre>git log &lt;directory-or-file&gt;
<span class="anchor" id="line-79"></span></pre><span class="anchor" id="line-80"></span><p class="line874">rather than being able to track just one file. You can't do it sanely with per-file history (because to tie the per-file histories back together in a logical sequence, you need the global history to sort it again!). <span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span></p><p class="line874">That said, you might well need to just run <span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span></p><p class="line867"><span class="anchor" id="line-85"></span></p><pre>git gc
<span class="anchor" id="line-86"></span></pre><span class="anchor" id="line-87"></span><p class="line874">to make it hugely faster. <span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span></p><p class="line862">Note that <tt>git&nbsp;log&nbsp;&lt;file1&gt;&nbsp;&lt;file2&gt;</tt> (or <tt>gitk&nbsp;&lt;file1&gt;&nbsp;&lt;file2&gt;</tt>) is not simply the union of <tt>git&nbsp;log&nbsp;&lt;file1&gt;</tt> and <tt>git&nbsp;log&nbsp;&lt;file2&gt;</tt>; it can contain merges which are in neither of the separate histories. Doing the history for two files together is <strong>not at all equivalent</strong> to doing the history for those files individually and stitching it together. <span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span></p><p class="line862">To speed up "git log" give it a range of interesting revisions; you can also try <tt>--remove-empty</tt> option (with some caveats). <span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span></p><ul><li><p class="line891"><a class="http" href="http://permalink.gmane.org/gmane.comp.version-control.git/39358">Re: how to speed up "git log"?</a> by Linus Torvalds on Git mailing list. <span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span></p></li></ul><p class="line867">
</p><h2 id="head-9972ad5add19d3fd22c803dcdddb39ce6dd3b6af">Why is it wrong to export the environment variable CDPATH?</h2>
<span class="anchor" id="line-96"></span><p class="line862">The CDPATH variable is purely for interactive use.  A lot of scripts break if a simple "cd" suddenly outputs a text that was directed at <strong>you</strong>, the user, and not meant for processing by the script.  Setting, but not exporting, CDPATH will still work as expected, but may break many scripts, including the make procedure of Git.  Having said that, we tried hard to avoid to unset CDPATH everywhere in the Git scripts, and in the Makefiles, but it is well possible that we missed out some places. <span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span></p><p class="line874">In contrast, if you just remove the "export" from your .bashrc, you are guaranteed to never get bitten by that breakage again! <span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span></p><ul><li><p class="line891"><a class="http" href="http://article.gmane.org/gmane.comp.version-control.git/13736/match=cdpath">Re: make install bug?</a> <span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span></p></li></ul><p class="line867">
</p><h2 id="head-5089c73227fb1a4da8c0b0e541cbff25f6556602">How come gitweb suddenly disappeared from the project list at kernel.org/git?</h2>
<span class="anchor" id="line-103"></span><p class="line862">Because it got merged into git. See <a class="http" href="http://kernel.org/git/?p=git/git.git;a=commit;h=0a8f4f0020cb35095005852c0797f0b90e9ebb74">the relevant commit</a>. <span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span></p><p class="line867">
</p><h2 id="head-1168c3027a2b7060df8c5cf141756c8e0e33139c">What is the difference between a merge and a rebase?</h2>
<span class="anchor" id="line-106"></span><p class="line874">Imagine this history: <span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span></p><p class="line867"><span class="anchor" id="line-109"></span></p><pre>- A - B - C - D - remote HEAD
<span class="anchor" id="line-110"></span>    \
<span class="anchor" id="line-111"></span>      E - F - G - local HEAD
<span class="anchor" id="line-112"></span></pre><span class="anchor" id="line-113"></span><p class="line874">after merge: <span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span></p><p class="line867"><span class="anchor" id="line-116"></span></p><pre>- A - B - C - D - remote HEAD
<span class="anchor" id="line-117"></span>    \                         \
<span class="anchor" id="line-118"></span>      E - F - G - local HEAD - new local HEAD
<span class="anchor" id="line-119"></span></pre><span class="anchor" id="line-120"></span><p class="line874">after rebase: <span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span></p><p class="line867"><span class="anchor" id="line-123"></span></p><pre>- A - B - C - D - remote HEAD - E' - F' - G' - local HEAD'
<span class="anchor" id="line-124"></span></pre><span class="anchor" id="line-125"></span><p class="line874">So, the merge does not rewrite your commits. They will stay the same. A rebase _will_ rewrite them. The advantage is that the history looks nicer. The disadvantage is that you usually tested more while developing, so that some obscure feature in, say, "G", could work less nicely together with the changes of, say, "B", than you hope for. In other words, G was tested thoroughly, G' was not. As always, it is a trade-off. <span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span></p><p class="line867">
</p><h2 id="head-b95747ff2758cc590507b0ac03a1511756401103">Why is "git rm" not the inverse of "git add"?</h2>
<span class="anchor" id="line-128"></span><p class="line874">Don't think of 'rm' as the inverse of 'add'.  That would only confuse you. <span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span></p><p class="line862">When git-add is used to add changes made to a file already tracked by git, the inverse of 'git add &lt;file&gt;' is 'git reset HEAD -- &lt;file&gt;'. <span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span></p><p class="line874">In the case of adding a new file, a natural inverse of 'add' is 'un-add', and that operation is called 'rm --cached', because we use that to name the option to invoke an "index-only" variant of a command when the command can operate on index and working tree file (e.g. "diff --cached", "apply --cached"). <span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span></p><p class="line874">A life of a file that does _not_ make into a commit goes like this: <span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span></p><ul><li style="list-style-type: none;">[1]$ edit a-new-file <span class="anchor" id="line-137"></span></li></ul><p class="line874">This is 'create', not 'add'.  git is not involved in this step. <span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span></p><ul><li style="list-style-type: none;">[2]$ git add a-new-file <span class="anchor" id="line-140"></span></li></ul><p class="line874">This is 'add'; place an existing file in the index.  When you do not want it in the index, you 'un-add' it. <span class="anchor" id="line-141"></span><span class="anchor" id="line-142"></span></p><ul><li style="list-style-type: none;">[3]$ git rm --cached a-new-file <span class="anchor" id="line-143"></span></li></ul><p class="line874">This removes the entry from the index, without touching the working tree file.  If you do not want that file at all (as opposed to, "I am making a series of partial commits, and the addition of this path does not belong to the first commit of the series, so I am unstaging"), this is followed by <span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span></p><ul><li style="list-style-type: none;">[4]$ rm -f a-new-file <span class="anchor" id="line-146"></span></li></ul><p class="line874">Again, git is not involved in this step. <span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span></p><p class="line874">People sometimes want to have steps 3 and 4 combined, and it meshes well with the users' expectation when they see the word "rm".  Think of "git rm" without "--cached" as a shorthand to do 3 and 4 in one go to meet that expectation. <span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span></p><p class="line874">Obviously, we cannot usefully combine steps 1 and 2.  We could have "git add --create a-new-file" launch an editor to create a new file, but that would not be very useful in practice. <span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span></p><p class="line874">The fact that steps 3 and 4 can be naturally combined, but steps 1 and 2 cannot be, makes "add" and "rm" not inverse of each other. <span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span></p><ul><li><p class="line891"><a class="http" href="http://mid.gmane.org/7vps2y3a4n.fsf@assigned-by-dhcp.cox.net">Re: git-rm isn't the inverse action of git-add</a> message by Junio C Hamano. <span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span></p></li></ul><p class="line867">
</p><h1 id="head-af7531b12eaa2db66cf189654ab4413072e6347d">Features</h1>
<span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span><p class="line867"><span class="anchor" id="git-crlf"></span> <span class="anchor" id="line-160"></span>
</p><h2 id="head-0dfecbf4b56fa395d9bf02b02dbcc32b5310c359">Does git convert between CRLF and LF for different platforms?</h2>
<span class="anchor" id="line-161"></span><p class="line874">Support for this exists in Git versions 1.5 or later. <span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span></p><p class="line867"><span class="anchor" id="git-keywords"></span> <span class="anchor" id="line-164"></span>
</p><h2 id="head-4a0afe71a2bb7734777a8b0b345e0308aefdbd40">Does git have keyword expansion?</h2>
<span class="anchor" id="line-165"></span><p class="line874">Not recommended. Keyword expansion causes all sorts of strange problems and isn't really useful anyway, especially within the context of an SCM. Outside git you may perform keyword expansion using a script. The Linux kernel export script does this to set the EXTRA_VERSION variable in the Makefile. <span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span></p><p class="line862">See <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/gitattributes.html">gitattributes(5)</a> if you really want to do this.  If your translation is not reversible (eg SCCS keyword expansion) this may be problematic. <span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span></p><p class="line867"><span class="anchor" id="git-filter"></span> <span class="anchor" id="line-170"></span>
</p><h2 id="head-8e622522737b11a14e52bbe45a4aeb71ea3a1dd7">Does git allow arbitrary conversion of contents?</h2>
<span class="anchor" id="line-171"></span><p class="line862">Yes. Not just "keyword expansion" and/or "CRLF conversion", the current version of git allows you to specify filters to munge contents immediately before checking things in. See <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/gitattributes.html">gitattributes(5)</a> man pages for details. <span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span></p><p class="line867"><span class="anchor" id="git-encoding"></span> <span class="anchor" id="line-174"></span>
</p><h2 id="head-77b8e1a827cb8f9af411aaa889c1c6c8d9b4f17b">Does git convert encodings of file names?</h2>
<span class="anchor" id="line-175"></span><p class="line874">No. Filenames are treated as byte sequences. <span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span></p><p class="line867">
</p><h2 id="head-db162fd32ce6fc35ec8ec5c8f0008d49e12b3271">Does git convert encodings of comments and committer names or file content?</h2>
<span class="anchor" id="line-178"></span><p class="line874">A git repository can store a flag to register the encoding supposedly used for comments (including author names). File content is not converted unless you are inclined to shoot yourself in the foot and use the filtering mechanism described above. <span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span></p><p class="line867"><span class="anchor" id="git-content-limitations"></span> <span class="anchor" id="line-181"></span>
</p><h2 id="head-7e70881352ec207609dc4d7eedbd0532946a5825">Does git track all file data and metadata?</h2>
<span class="anchor" id="line-182"></span><p class="line862">No. Git has a specific notion of tracked "content", which is basically just the file data. It is thus not directly suitable for tracking directories where additional filesystem information is significant, such as "/etc" or home directories. See <a href="http://git.or.cz/gitwiki/ContentLimitations">ContentLimitations</a> for more details. <span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span></p><p class="line867">
</p><h1 id="head-b838b2bf4fd948baa90989c63f96dd74ca956599">Unexpected behavior</h1>
<span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><p class="line867"><span class="anchor" id="git-push non-bare"></span> <span class="anchor" id="line-188"></span>
</p><h2 id="head-b96f48bc9c925074be9f95c0fce69bcece5f6e73">Why won't I see changes in the remote repo after "git push"?</h2>
<span class="anchor" id="line-189"></span><p class="line862">The <tt>push</tt> operation is always about propagating the repository history and updating the refs, and never touches the working tree files.  In particular, if you push to update the branch that is checked out in a remote repository the files in the work tree will not be updated. <span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span></p><p class="line862">This is a precautionary design decision.  The remote repository's work tree may have local changes, and there is no way for you, who are pushing into the remote repository, to resolve conflicts between the changes you are pushing and the ones in the work tree.  However, you can easily make a post-update hook to update the working copy of the checked out branch.  The reason for not making this a default example hook is that they only notify the person doing the pushing if there was a problem.  The latest draft post-update hook for this is at <a class="http" href="http://utsl.gen.nz/git/post-update">http://utsl.gen.nz/git/post-update</a>, which deals with almost all cases, apart from where there is already a conflicted merge on the remote side (as git-stash cannot currently stash this).  It also fails to work in instances where it could, such as none of the files are actually conflicting. <span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span></p><p class="line862">A quick rule of thumb is to <em>never</em> push into a repository that has a work tree attached to it, until you know what you are doing. <span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span></p><p class="line874">Note: there is a way to commit changes on machineB after a git push on machineA. Copy the last tag found, say a71610... in git log on machineB, -the one you just commited on machineA- and do a  <span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span></p><pre>machineB$ git reset --hard a71610...
<span class="anchor" id="line-198"></span></pre><span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><p class="line862">See also the entry (<a href="#push-is-reverse-of-fetch">How would I use "git push" to sync out of a firewalled host?</a>) in this FAQ for the proper way to work with push with a repository with a work tree. <span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span></p><p class="line867"><span class="anchor" id="git-version"></span> <span class="anchor" id="line-203"></span>
</p><h2 id="head-cca29a12b409e2a370272a48c621557a61d5a2c0">Why git --version is not reporting the "full" version number?</h2>
<span class="anchor" id="line-204"></span><p class="line874">There is a bit of a chicken and egg problem involved. The build procedure wants to have an already installed git to figure out the "full" version number. If you are bootstrapping, make clean and rebuild after you install git once would give you a git binary that knows what version it is. <span class="anchor" id="line-205"></span><span class="anchor" id="line-206"></span></p><p class="line867"><tt>GIT-VERSION-GEN</tt> script show current (used) git version, <tt>git&nbsp;--version</tt> shows git version used at the time git was build. <span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span></p><p class="line867"><span class="anchor" id="reset-hard-leaving-files"></span> <span class="anchor" id="line-209"></span>
</p><h2 id="head-9b3f76f3272bf3cb31974c3629681013e9667c38">"git reset --hard" is not removing some files</h2>
<span class="anchor" id="line-210"></span><p class="line867"><tt>git&nbsp;reset&nbsp;--hard</tt> doesn't remove the files which are in the <strong>current</strong> version of <tt>.gitignore</tt>. "git reset" won't delete files it doesn't track (particularly when it has been _told_ to ignore them). <span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span></p><p class="line862">If the version you switched to has an earlier (different) version of the <tt>.gitignore</tt> file then the files which were not deleted might be not ignored in the reset version, and will for example show in the <tt>git&nbsp;status</tt> output. <span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span></p><ul><li><p class="line862">See <a class="http" href="http://marc.theaimsgroup.com/?l=git&m=114917892328066">Linus Torvalds</a> answer or <a class="http" href="http://marc.theaimsgroup.com/?l=git&m=114917892613019">Sean Estabrooks</a> answer at <a href="http://git.or.cz/gitwiki/GitCommunity">git mailing list</a>. <span class="anchor" id="line-215"></span></p></li><li><p class="line862">If you are using cygwin or OSX, you might have be having issues with case sensitivity. See <a class="http" href="http://marc.info/?l=git&w=2&r=1&s=xt_CONNMARK.h&q=b">some discussion here</a>. <span class="anchor" id="line-216"></span><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span></p></li></ul><p class="line867"><span class="anchor" id="git-push after-rebase"></span> <span class="anchor" id="line-219"></span>
</p><h2 id="head-c1dc263aca199d347f28872249e6c1f5d519a2df">Why won't "git push" work after I rebased a branch?</h2>
<span class="anchor" id="line-220"></span><p class="line862">After you have rebased one of your local branches, you are trying to push your changes to a remote repository. But <tt>git&nbsp;push</tt> fails with this error message: <span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span></p><p class="line867"><span class="anchor" id="line-223"></span></p><pre>error: remote 'refs/heads/master' is not a strict subset of local ref 'refs/heads/master'. maybe you are not up-to-date and need to pull first?
<span class="anchor" id="line-224"></span></pre><span class="anchor" id="line-225"></span><p class="line874">This is not a bug, but a safety check: "git push" will not update a remote branch if the remote branch is not a parent of the commit you're trying to push. This check prevents you from overwriting a remote branch to which other people have already commited new changes after you fetched it the last time. Their changes would be lost without the check. And it prevents you from overwriting a remote branch with an unrelated local branch. <span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span></p><p class="line874">When you rebase, you are not continuing the history of the branch from where you currently are. Instead, you are rewriting the history starting from the base you chose for rebasing. So, after rebasing, the remote branch and your new local HEAD are both child commits of that base, but the remote branch is no longer a parent of your new local HEAD. And pushing this new history to the remote branch means replacing a history that other people might already have downloaded. <span class="anchor" id="line-228"></span><span class="anchor" id="line-229"></span></p><p class="line862">If you are really sure that you want to push the new reference to the remote repository you can say <tt>git&nbsp;push&nbsp;-f</tt>. But use this with care and only if you know what you are doing. <span class="anchor" id="line-230"></span><span class="anchor" id="line-231"></span></p><p class="line867">
</p><h2 id="head-3aa45c7d75d40068e07231a5bf8a1a0db9a8b717">Why is "git commit -a" not the default?</h2>
<span class="anchor" id="line-232"></span><p class="line874">Most other version control systems will do a full-tree commit, using the content of files at commit time, by default. <span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span></p><p class="line862">Git does it differently. By default, git commits the content of the index, and only this. <tt>git&nbsp;commit&nbsp;-a</tt> gives roughly the equivalent of what other systems do. Indeed, there are many concrete reasons why git's way to manage the index is good (and leads to unique features of git): <span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span></p><ul><li><p class="line862">You can select files to commit with a fine granularity, telling git what you want to do little by little (<tt>git&nbsp;add&nbsp;</tt><em>file</em> to add the full content of the file to the index, <tt>git&nbsp;add&nbsp;-i</tt> or <tt>git-gui</tt> to add the content hunk-by-hunk, or even use the hunk splitting feature of <tt>git&nbsp;add&nbsp;-i</tt>). <span class="anchor" id="line-237"></span></p></li><li>This fine-grained file selection can help you to keep an uncommited modification in your tree for a reasonably long time. For example, you can increment the version number in the Makefile some time before a release, and use this as a reminder. <span class="anchor" id="line-238"></span></li><li><p class="line862">You can perform several small steps for one commit, checking what you did with git diff, and validating each small step with git add or git add -u. Typically, you can apply a broken patch, updating the index, with <tt>git&nbsp;apply&nbsp;--index</tt>, and then fix the patch. <tt>git&nbsp;diff&nbsp;--cached</tt> will show you your fixes, while <tt>git&nbsp;diff&nbsp;HEAD</tt> will show you the combined diff. <span class="anchor" id="line-239"></span></p></li><li><p class="line862">This allows excellent management of merge conflicts: <tt>git&nbsp;diff&nbsp;--base</tt>, <tt>git&nbsp;diff&nbsp;--ours</tt>, <tt>git&nbsp;diff&nbsp;--theirs</tt>. <span class="anchor" id="line-240"></span></p></li><li><p class="line862">This allows <tt>git&nbsp;commit&nbsp;--amend</tt> to amend only the log message if the index hasn't been modified in the meantime. <span class="anchor" id="line-241"></span></p></li></ul><p class="line862">So, while using <tt>git&nbsp;commit&nbsp;-a</tt> is perfectly fine with the simple cycle "edit/review/commit", making it the default would make other workflows less natural. <span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span></p><p class="line862">Indeed, according to Linus, the real reason is more philosophical: git is a content tracker, and a file name has no meaning unless associated to its content. Therefore, the only sane behavior for <tt>git&nbsp;add&nbsp;</tt><em>filename</em> is to add the content of the file as well as its name to the index. <span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span></p><p class="line874">See also (mailing list posts): <span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span></p><ul><li><p class="line891"><a class="http" href="http://thread.gmane.org/gmane.comp.version-control.git/46341">mailing list post</a>: [FAQ?] Rationale for git's way to manage the index <span class="anchor" id="line-248"></span></p></li><li><p class="line891"><a class="http" href="http://thread.gmane.org/gmane.comp.version-control.git/32452/focus=32610">mailing list post</a>: [PATCH 0/2] Making "git commit" to mean "git commit -a" <span class="anchor" id="line-249"></span></p></li></ul><p class="line867">
</p><h2 id="head-bbd07820198a9b8c6ec4fad4932341b64378a5f6">My HTTP repository has updates, which git clone misses. What happened?</h2>
<span class="anchor" id="line-250"></span><p class="line874">If you push via SSH to the repository, you have to enable the post-update hook (chmod a+x hooks/post-update). If you "push" with rsync, you have to make sure to execute "git update-server-info" _before_ pushing. HTTP is a "dumb" transport, which needs some help. This help is provided in the form of the file info/refs, which contains the current refs (names + commit names of the tips). <span class="anchor" id="line-251"></span><span class="anchor" id="line-252"></span></p><p class="line867">
</p><h2 id="head-76695e517a5f4dc371c613a14a9d88fd0523bf27">Why isn't Git preserving modification time on files?</h2>
<span class="anchor" id="line-253"></span><p class="line874">Modification time on files is a feature that affects build tools. Most build tools compare the timestamp of the source(s) with the timestamp of the derived file(s). If the source is newer, then a rebuild takes place, otherwise nothing happens. This speeds up the build process a lot. <span class="anchor" id="line-254"></span><span class="anchor" id="line-255"></span></p><p class="line862">Now consider what would happen if you check out another branch, and modification times were preserved. We assume you already have a fully-built project. If a source file on that other branch has a timestamp that is older than that of the corresponding derived file, the derived file will not be built even if it is different, because the build system only compares modification times. At best, you'll get some kind of weird secondary error; but most likely everything will look fine at first, but you will not get the same result as you would have with a clean build. That situation is unhealthy since you really do not know what code you are executing and the source of the problem is hard to find. You will end up always having to make a clean build when switching branches to make sure you are using the correct source. (Git <a class="nonexistent" href="http://git.or.cz/gitwiki/Bisect">bisect</a> is another git procedure that checks out old and new revisions where you need a reliable rebuild.) <span class="anchor" id="line-256"></span><span class="anchor" id="line-257"></span></p><p class="line874">Git sets the current time as the timestamp on every file it modifies, but only those. The other files are left untouched, which means build tools will be able to depend on modification time and rebuild properly. If build rules change, that can cause a failure anyway, but that is a far less common problem than accidentally not rebuilding. <span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span></p><p class="line867"><span class="anchor" id="pager-default"></span> <span class="anchor" id="line-260"></span>
</p><h2 id="head-9dfc528b189148e801031d161201645af532a580">Why does git use a pager for commands like diff/log and --help?</h2>
<span class="anchor" id="line-261"></span><p class="line874">Usually, you are not interested in the whole log, but only some bits at the beginning.  It would not be useful for "git log" to simply let the output whiz by, leaving you looking at the uninteresting parts at the end.  And if it did it the other way round, showing you the interesting bits last, it would waste a lot of time showing information that you are not interested in at all.  So the only thing that makes sense is to look at the log in a pager.  It also helps searching for keywords. <span class="anchor" id="line-262"></span><span class="anchor" id="line-263"></span></p><p class="line874">Note that "--help" just spawns "man", so it is not Git's fault there. <span class="anchor" id="line-264"></span><span class="anchor" id="line-265"></span></p><p class="line862">If you do not like the pager default, you can set <tt>core.pager&nbsp;=&nbsp;cat</tt> with <tt>git-config</tt> or tell your shell about <tt>GIT_PAGER=cat</tt>. <span class="anchor" id="line-266"></span><span class="anchor" id="line-267"></span></p><p class="line867">
</p><h2 id="head-84f9d7fab736b38ad6563c94523f9fca25411f85">Why does git diff sometimes list a file that has no changes?</h2>
<span class="anchor" id="line-268"></span><p class="line867"><tt>git&nbsp;diff</tt> and other git operations is optimized so it does not even look at files whose status (size, modification time etc) on disk and in git's <a class="nonexistent" href="http://git.or.cz/gitwiki/Index">index</a> are different. This makes <tt>git&nbsp;diff</tt> extremely fast for small changes. If the file has been touched somehow, git diff has to look at the content of and compare it which is a much slower operation even when there is in fact no change. <tt>git&nbsp;diff</tt> lists the files as a reminder that it is not used optimally. Running <tt>git&nbsp;status</tt> will not only show status, but will also update the index with status for unchanged files disk making subsequent operations, not only diff, much faster. A typical case that causes many files to be listed by diff is running mass editing commands like <tt>perl&nbsp;-pi&nbsp;-e&nbsp;'...'</tt>. <span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span></p><p class="line867">
</p><h2 id="head-488bf9644a4376667d5ec7238bd3d3bac97c0cb0">What does the gitk error message ""Can't parse git log output:" mean?</h2>
<span class="anchor" id="line-271"></span><p class="line862">This is usually caused by <tt>color.diff</tt> being set to true in your config. <tt>git&nbsp;log</tt> outputs log entries in colors when <tt>color.diff&nbsp;=&nbsp;true</tt>. And <tt>gitk</tt> can only parse plain output. <span class="anchor" id="line-272"></span><span class="anchor" id="line-273"></span></p><p class="line862">It is recommended (as of 1.5.3) that <tt>color.diff</tt> be kept off. Use <tt>git&nbsp;log&nbsp;--color</tt> if you need colored output. <span class="anchor" id="line-274"></span><span class="anchor" id="line-275"></span></p><p class="line867">
</p><h2 id="head-3e8857fa968caf2d68c0ae725949085e752156eb">Why does gitk on Cygwin display "git 1316 tty_list::allocate: No tty allocated"?</h2>
<span class="anchor" id="line-276"></span><p class="line874">This appears to be an issue with your Cygwin configuration.  Make sure your CYGWIN environment variable doesn't contain 'tty'. <span class="anchor" id="line-277"></span><span class="anchor" id="line-278"></span></p><p class="line867">
</p><h1 id="head-ff8122a895034101d3814a357a050f06b20231fe">How do I ...</h1>
<span class="anchor" id="line-279"></span><span class="anchor" id="line-280"></span><p class="line867"><span class="anchor" id="ssh-config"></span> <span class="anchor" id="line-281"></span>
</p><h2 id="head-1ade1fa5a9d19db5af3bbeb5cecb73a8c2d01263">How do I specify what ssh key git should use?</h2>
<span class="anchor" id="line-282"></span><p class="line862">This is not really a git question. However, you can edit your ~/.ssh/config file in order to tell ssh what key to use. More information about this is in the <a class="http" href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh_config">ssh config manpage</a>. The short version is that you can specify a custom Host with it's own <a class="nonexistent" href="http://git.or.cz/gitwiki/IdentityFile">IdentityFile</a>, like this: <span class="anchor" id="line-283"></span><span class="anchor" id="line-284"></span></p><pre>Host GitServer
<span class="anchor" id="line-285"></span>  Hostname=git.example.org
<span class="anchor" id="line-286"></span>  IdentityFile=~/.ssh/my_cool_key_rsa
<span class="anchor" id="line-287"></span></pre><span class="anchor" id="line-288"></span><p class="line862">Then, you can set up git to use "<a class="nonexistent" href="http://git.or.cz/gitwiki/GitServer">GitServer</a>" as the hostname. It will look up the entry and use the specified key and host. <span class="anchor" id="line-289"></span><span class="anchor" id="line-290"></span></p><p class="line867"><span class="anchor" id="untrack-file"></span> <span class="anchor" id="line-291"></span>
</p><h2 id="head-c775c6543d66ec9970764cc5ac1fbd39b456fbef">How do I untrack a file?</h2>
<span class="anchor" id="line-292"></span><p class="line874">If you want to keep a file, but not have it in the next revision, do this: <span class="anchor" id="line-293"></span><span class="anchor" id="line-294"></span></p><p class="line867"><span class="anchor" id="line-295"></span></p><pre>git rm --cached &lt;filename&gt;
<span class="anchor" id="line-296"></span></pre><span class="anchor" id="line-297"></span><span class="anchor" id="line-298"></span><p class="line867"><span class="anchor" id="repo-sharing"></span> <span class="anchor" id="line-299"></span>
</p><h2 id="head-cebe2d2fa8e1f424a1ed2310655a5120797fd05f">How do I share a git public repository and use it in a CVS way?</h2>
<span class="anchor" id="line-300"></span><p class="line862">You can use <tt>git&nbsp;--bare&nbsp;init&nbsp;--shared=group</tt> (or <tt>git&nbsp;--bare&nbsp;init&nbsp;--shared=all</tt> for unprivileged gitweb) to initialize a shared repository if you use core <a href="http://git.or.cz/gitwiki/Git">Git</a> (recommended for Git 1.5+). For older versions of Git core you can also use <a href="http://git.or.cz/gitwiki/Cogito">Cogito</a> command <tt>cg-admin-setuprepo&nbsp;-g</tt> (please note that Cogito is no longer actively maintained, if you use Git version 1.5+ it is recommended that you use core Git). All users belonging to your group have now permissions to push their changes to the repository. It's O.K. that refs aren't group writable, it's enough the directory is. <span class="anchor" id="line-301"></span><span class="anchor" id="line-302"></span></p><ul><li>See the <span class="anchor" id="line-303"></span><p class="line891"><a class="http" href="http://www.kernel.org/pub/software/scm/cogito/docs/introduction.html">introduction to Cogito</a> or GIT's <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/cvs-migration.html">cvs-migration</a> doc, "Emulating the CVS Development Model" section for details. <span class="anchor" id="line-304"></span><span class="anchor" id="line-305"></span></p></li></ul><p class="line867"><span class="anchor" id="commit-diff"></span> <span class="anchor" id="line-306"></span>
</p><h2 id="head-04ee30d2fb9a8bc418eb8acd0fa6792bd68c475d">How can I add a diff of the commit into the commit message window?</h2>
<span class="anchor" id="line-307"></span><span class="anchor" id="line-308"></span><p class="line874">Just call git commit with -v flag: <span class="anchor" id="line-309"></span><span class="anchor" id="line-310"></span></p><p class="line867"><span class="anchor" id="line-311"></span></p><pre>git commit -v
<span class="anchor" id="line-312"></span></pre><span class="anchor" id="line-313"></span><span class="anchor" id="line-314"></span><p class="line867"><span class="anchor" id="push-is-reverse-of-fetch"></span> <span class="anchor" id="line-315"></span>
</p><h2 id="head-46de97a5ac549d3adf406c22674b3325ae25d09c">How would I use "git push" to sync out of a firewalled host?</h2>
<span class="anchor" id="line-316"></span><p class="line874">When you work on two machines, sometimes your firewall would let you make a TCP connection only in one direction but not in the other direction. Suppose you start a project on machine A (mothership), and clone from there to a machine B (satellite). You work on B and would want to propagate the change back to your repository on machine A. Even if you wanted to, you cannot run git-fetch on machine A to fetch from B, as B is firewalled and does not allow incoming connections. What should you do in such a case? <span class="anchor" id="line-317"></span><span class="anchor" id="line-318"></span></p><p class="line862">Pushing 'master' branch on B to 'master' branch on A, however, is not what you would want to do. Push is a reverse of fetch in the sense that it propagates the objects and update the branch tips, but does not touch the working tree in the target repository, and you will be utterly confused when you go back to machine A after you update 'master' that way. You can realize that a push is a mirror operation of a fetch and take advantage of it. If B were <em>not</em> firewalled, you would instead run fetch on A from B. And such a fetch is arranged to fetch 'master' from B and store that in 'refs/remotes/B/master' in A. <span class="anchor" id="line-319"></span><span class="anchor" id="line-320"></span></p><p class="line874">So the simple solution to work around such a firewalled setup is to push 'master' from B into 'refs/remotes/B/master' of A, like this: <span class="anchor" id="line-321"></span><span class="anchor" id="line-322"></span></p><p class="line867"><span class="anchor" id="line-323"></span></p><pre>machineB$ git push machineA:repo.git master:refs/remotes/B/master
<span class="anchor" id="line-324"></span></pre><span class="anchor" id="line-325"></span><p class="line874">When you go back to machineA to work further, it is as if you did a git-fetch from machineB, like this: <span class="anchor" id="line-326"></span><span class="anchor" id="line-327"></span></p><p class="line867"><span class="anchor" id="line-328"></span></p><pre>machineA$ git fetch machineB:repo.git master:refs/remotes/B/master
<span class="anchor" id="line-329"></span></pre><span class="anchor" id="line-330"></span><p class="line874">When you are ready to integrate the changes you did on machineB into the master branch on machineA, you can: <span class="anchor" id="line-331"></span><span class="anchor" id="line-332"></span></p><p class="line867"><span class="anchor" id="line-333"></span></p><pre>machineA$ git merge B/master ;# shorthand for refs/remotes/B/master
<span class="anchor" id="line-334"></span></pre><span class="anchor" id="line-335"></span><p class="line874">This is no different from the case where you actually pulled from B on A. You can set up your .git/config file to largely automate the above git-push, so that you can just say: <span class="anchor" id="line-336"></span><span class="anchor" id="line-337"></span></p><p class="line867"><span class="anchor" id="line-338"></span></p><pre>machineB$ git push
<span class="anchor" id="line-339"></span></pre><span class="anchor" id="line-340"></span><p class="line862">See also <a class="http" href="http://thread.gmane.org/gmane.comp.version-control.git/42506/focus=42685">http://thread.gmane.org/gmane.comp.version-control.git/42506/focus=42685</a> <span class="anchor" id="line-341"></span><span class="anchor" id="line-342"></span><span class="anchor" id="line-343"></span></p><p class="line867"><span class="anchor" id="tag-checkout"></span> <span class="anchor" id="line-344"></span>
</p><h2 id="head-3a6b504c6dc929dab2d46f9462dddd5fd4334540">How do I check out the tree at a particular tag?</h2>
<span class="anchor" id="line-345"></span><p class="line862">So you cloned that shiny repository and now would like to get the working tree to the state as of some tag (use <tt>cg&nbsp;tag-ls</tt> or <tt>git&nbsp;tag&nbsp;-l</tt> to list all available tags). If your Git is 1.5+, just do a <tt>git&nbsp;checkout&nbsp;TAGNAME</tt>. If you have a version prior to 1.5, you will have to create a temporary branch based on the tag. If you will never want to come back, <tt>git&nbsp;checkout&nbsp;-b&nbsp;temporarybranch&nbsp;TAGNAME</tt>. If you want to return to your latest revision later, before going away check what is your current branch (usually it's <tt>master</tt>), and when going back do <tt>git&nbsp;checkout&nbsp;ORIGINALBRANCH</tt>. Get rid of <tt>temporarybranch</tt> by doing <tt>git&nbsp;branch&nbsp;-D&nbsp;temporarybranch</tt>. <span class="anchor" id="line-346"></span><span class="anchor" id="line-347"></span></p><p class="line867"><span class="anchor" id="share-objects"></span> <span class="anchor" id="line-348"></span>
</p><h2 id="head-4e023cce2e43e3cde67062bb0a146ff15f0eba79">How to share objects between existing repositories?</h2>
<span class="anchor" id="line-349"></span><p class="line874">Do <span class="anchor" id="line-350"></span><span class="anchor" id="line-351"></span></p><p class="line867"><span class="anchor" id="line-352"></span></p><pre>echo "/source/git/project/.git/objects/" &gt; .git/objects/info/alternates
<span class="anchor" id="line-353"></span></pre><span class="anchor" id="line-354"></span><p class="line874">and then follow it up with <span class="anchor" id="line-355"></span><span class="anchor" id="line-356"></span></p><p class="line867"><span class="anchor" id="line-357"></span></p><pre>git repack -a -d -l
<span class="anchor" id="line-358"></span></pre><span class="anchor" id="line-359"></span><p class="line862">where the '-l' means that it will only put <em>local</em> objects in the pack-file (strictly speaking, it will put any loose objects from the alternate tree too, so you'll have a fully packed archive, but it won't duplicate objects that are already packed in the alternate tree). <span class="anchor" id="line-360"></span><span class="anchor" id="line-361"></span></p><p class="line867"><span class="anchor" id="gitignore"></span> <span class="anchor" id="line-362"></span>
</p><h2 id="head-d7c489666ff5dc19d46f9385af73b4b860662022">How do I tell git to ignore files?</h2>
<span class="anchor" id="line-363"></span><p class="line862">You can put shell-style globs (e.g. <tt>*.o</tt>) in either <tt>.git/info/exclude</tt> or <tt>.gitignore</tt>. <span class="anchor" id="line-364"></span><span class="anchor" id="line-365"></span></p><p class="line867"><tt>.git/info/exclude</tt> is local to your repository only, and not shared by others who might fetch from your repository. <span class="anchor" id="line-366"></span><span class="anchor" id="line-367"></span></p><p class="line867"><tt>.gitignore</tt> is more commonly used, as it can be checked into the repository and thereby automatically shared with all users of the project. <span class="anchor" id="line-368"></span><span class="anchor" id="line-369"></span></p><ul><li>See the <span class="anchor" id="line-370"></span><p class="line891"><a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-ls-files.html">git-ls-files(1)</a> man page, section "Exclude Patterns" for details. <span class="anchor" id="line-371"></span><span class="anchor" id="line-372"></span></p></li></ul><p class="line867"><span class="anchor" id="saving-draft"></span> <span class="anchor" id="line-373"></span>
</p><h2 id="head-b0656d18062a5b736df74a5fa182a2fa23cb3bfc">How do I save some local modifications?</h2>
<span class="anchor" id="line-374"></span><p class="line874">Sometimes it is necessary to put some local changes aside, and come back to them later (typically, when one hits an easily-fixable bug in the middle of non-trivial work, and wants to fix the bug before anything else). <span class="anchor" id="line-375"></span><span class="anchor" id="line-376"></span></p><p class="line862">With recent versions of git, you can use <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-stash.html">"git stash"</a> to save temporary modifications and come back to a "clean" tree, and then "git stash apply" to re-apply it. <span class="anchor" id="line-377"></span><span class="anchor" id="line-378"></span></p><p class="line874">Alternatively: <span class="anchor" id="line-379"></span><span class="anchor" id="line-380"></span></p><p class="line874">One can use a temporary branch, to merge later: <span class="anchor" id="line-381"></span><span class="anchor" id="line-382"></span></p><p class="line867"><span class="anchor" id="line-383"></span></p><pre>$ git checkout -b tempBranch
<span class="anchor" id="line-384"></span>$ git commit -a -m "to test"
<span class="anchor" id="line-385"></span></pre><span class="anchor" id="line-386"></span><p class="line862">where <tt>tempBranch</tt> is the unique (original) throwaway branch name. <span class="anchor" id="line-387"></span><span class="anchor" id="line-388"></span></p><p class="line874">Another solution is to save changes in a patch, to apply later: <span class="anchor" id="line-389"></span><span class="anchor" id="line-390"></span></p><p class="line867"><span class="anchor" id="line-391"></span></p><pre>$ git diff --binary HEAD &gt; tempPatch.diff
<span class="anchor" id="line-392"></span>$ git reset --hard
<span class="anchor" id="line-393"></span></pre><span class="anchor" id="line-394"></span><p class="line862">(<strong>warning:</strong> <tt>git&nbsp;reset&nbsp;--hard</tt> removes changes to the working tree!) <span class="anchor" id="line-395"></span><span class="anchor" id="line-396"></span></p><p class="line867"><span class="anchor" id="merge-by-hand"></span> <span class="anchor" id="line-397"></span>
</p><h2 id="head-67dfccf2c616ec2f7e7343ee0bd1bdb08c2e5e35">How to manually resolve conflicts when Git failed to detect rename?</h2>
<span class="anchor" id="line-398"></span><p class="line862">What to do when you renamed a bunch of files, the merge is having a hard time autoresolving, and you have a couple of conflicts? Suppose the project originally had <tt>util/endian.h</tt>, and during the course of your development you moved it to <tt>src/util/endian.h</tt>. Your friend kept working on <tt>util/endian.h</tt> and it is time to merge the two branches. Sometimes recursive merge strategy (the default) detects this situation, and merge the changes your friend made to <tt>util/endian.h</tt> to <tt>src/util/endian.h</tt> without problems (you may still have to resolve the conflict in the contents of the file). But when git thinks you removed <tt>util/endian.h</tt> and created an unrelated <tt>src/util/endian.h</tt> file, you will see merge conflicts "your side removed, other side modified" on <tt>util/endian.h</tt>. <span class="anchor" id="line-399"></span><span class="anchor" id="line-400"></span></p><p class="line862">First, check which files have conflicts to resolve using <tt>git&nbsp;ls-files&nbsp;--unmerged</tt>. Then you can see the blob object names for each merge stage; stage1 is from the common ancestor and stage3 is from your friend's branch. When this type of conflict happens, you don't have stage2 for <tt>src/util/endian.h</tt>, because that path is "only your side created, other side did nothing" case, and (incorrectly) cleanly resolved: <span class="anchor" id="line-401"></span><span class="anchor" id="line-402"></span></p><p class="line867"><span class="anchor" id="line-403"></span></p><pre>$ git ls-files --unmerged --abbrev
<span class="anchor" id="line-404"></span>...
<span class="anchor" id="line-405"></span>100755 33cd1f76... 1 util/endian.h
<span class="anchor" id="line-406"></span>100755 7f531bb7... 3 util/endian.h
<span class="anchor" id="line-407"></span></pre><span class="anchor" id="line-408"></span><p class="line862">Then to do merge between the versions for the "undetected rename" file, extract two blobs (whose sha1 you have from <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-ls-files.html">git-ls-files(1)</a> or <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-status.html">git-status(1)</a> output) to temporary files, and run "merge" command by hand, e.g. <span class="anchor" id="line-409"></span><span class="anchor" id="line-410"></span></p><p class="line867"><span class="anchor" id="line-411"></span></p><pre>$ git cat-file blob 33cd1f76 &gt;endian.h-1
<span class="anchor" id="line-412"></span>$ git cat-file blob 7f531bb7 &gt;endian.h-3
<span class="anchor" id="line-413"></span>$ merge src/util/endian.h endian.h-1 endian.h-3
<span class="anchor" id="line-414"></span></pre><span class="anchor" id="line-415"></span><p class="line862">(that is merge yours, original and his). Of course instead of <tt>merge</tt> from RCS you can use your favorite 3-way file merge program, e.g. <a class="http" href="http://www.delorie.com/gnu/docs/emacs/ediff_2.html">Ediff3 from Emacs</a> (see also <a class="http" href="http://www.selenic.com/mercurial/wiki/index.cgi/MergingWithEmacs">MergingWithEmacs</a> at Mercurial wiki), <a class="http" href="http://meld.sourceforge.net/">Meld</a>, <a class="http" href="http://furius.ca/xxdiff/">xxdiff</a> or <a class="http" href="http://kdiff3.sourceforge.net/">KDiff3</a>. In newer versions of Git you could use "<em>:&lt;stage&gt;:&lt;filename&gt;</em>" instead of SHA1 to extract files to temporary files (<tt>:1:util/endian.h</tt> and <tt>:3:util/endian.h</tt>, respectively); check <a href="http://git.or.cz/gitwiki/RevisionSpecification">RevisionSpecification</a> and references therein. <span class="anchor" id="line-416"></span><span class="anchor" id="line-417"></span></p><p class="line862">Once you come up with the desired state in your file (<tt>src/util/endian.h</tt> in our example), then you have to inform Git that file was renamed, i.e. say "<tt>git&nbsp;update-index&nbsp;--remove&nbsp;util/endian.h</tt>" in our example (removing the file from working directory as well, if it exist there) and then "<tt>git&nbsp;update-index&nbsp;src/util/endian.h</tt>" (you should have it already in the index, so you do not have to say <tt>--add</tt>). <span class="anchor" id="line-418"></span><span class="anchor" id="line-419"></span></p><p class="line867"><span class="anchor" id="revert-file-change"></span> <span class="anchor" id="line-420"></span>
</p><h2 id="head-f2ac5ecb3db6c54e9977bf969c0456091ac332a3">How to revert file to version from current commit?</h2>
<span class="anchor" id="line-421"></span><p class="line874">If you messed up a file, or removed it accidentally, and want to revert file change to version at current commit, you can use: <span class="anchor" id="line-422"></span><span class="anchor" id="line-423"></span></p><p class="line867"><span class="anchor" id="line-424"></span></p><pre>git checkout HEAD -- &lt;file&gt;
<span class="anchor" id="line-425"></span></pre><span class="anchor" id="line-426"></span><p class="line874">If you want to revert to version in index, use <span class="anchor" id="line-427"></span><span class="anchor" id="line-428"></span></p><p class="line867"><span class="anchor" id="line-429"></span></p><pre>git checkout -- &lt;file&gt;
<span class="anchor" id="line-430"></span></pre><span class="anchor" id="line-431"></span><span class="anchor" id="line-432"></span><p class="line867"><span class="anchor" id="view-old-rev"></span> <span class="anchor" id="line-433"></span>
</p><h2 id="head-d1979f624d5240c274ebf1c428d3d74d25d251d0">How to view an old revision of a file or directory?</h2>
<span class="anchor" id="line-434"></span><p class="line874">Use command "git show" with a colon and filename: <span class="anchor" id="line-435"></span><span class="anchor" id="line-436"></span></p><p class="line867"><span class="anchor" id="line-437"></span></p><pre>git show &lt;commit&gt;:path/file
<span class="anchor" id="line-438"></span></pre><span class="anchor" id="line-439"></span><p class="line862">The &lt;commit&gt; can be commit id, branch name, tag, relative pointer like HEAD~2 etc. If you don't give any path or file (i.e. just &lt;commit&gt;:), git will display the file listing of repository's root directory. Examples: <span class="anchor" id="line-440"></span><span class="anchor" id="line-441"></span></p><p class="line867"><span class="anchor" id="line-442"></span></p><pre>git show v1.4.3:git.c
<span class="anchor" id="line-443"></span>git show f5f75c652b9c2347522159a87297820103e593e4:git.c
<span class="anchor" id="line-444"></span>git show HEAD~2:git.c
<span class="anchor" id="line-445"></span>git show master~4:
<span class="anchor" id="line-446"></span>git show master~4:doc/
<span class="anchor" id="line-447"></span>git show master~4:doc/ChangeLog
<span class="anchor" id="line-448"></span></pre><span class="anchor" id="line-449"></span><span class="anchor" id="line-450"></span><p class="line867">
</p><h2 id="head-f23681a24f830c4ede2161622961bc07537d89eb">How do I make a diff between two arbitrary files in different revisions?</h2>
<span class="anchor" id="line-451"></span><p class="line874">With command "git diff" you can refer to a commit and file pair: <span class="anchor" id="line-452"></span><span class="anchor" id="line-453"></span></p><p class="line867"><span class="anchor" id="line-454"></span></p><pre>git diff &lt;commit1&gt;:path/file &lt;commit2&gt;:otherpath/otherfile
<span class="anchor" id="line-455"></span></pre><span class="anchor" id="line-456"></span><p class="line874">As usual, commits can be commit ids, branch names, tags or relative references like HEAD~2. For example: <span class="anchor" id="line-457"></span><span class="anchor" id="line-458"></span></p><p class="line867"><span class="anchor" id="line-459"></span></p><pre>git diff 06de3718c389fd5038697151c49519f6e9f2dbe0:ChangeLog HEAD~2:ChangeLog.old
<span class="anchor" id="line-460"></span></pre><span class="anchor" id="line-461"></span><span class="anchor" id="line-462"></span><p class="line867"><span class="anchor" id="fix-broken-repo"></span> <span class="anchor" id="line-463"></span>
</p><h2 id="head-ac11406480d09e2df98588e800e41b7256602074">How to fix a broken repository?</h2>
<span class="anchor" id="line-464"></span><p class="line862">As Linus said (<a class="http" href="http://thread.gmane.org/gmane.comp.version-control.git/40893/focus=40896">on gmane</a>): <span class="anchor" id="line-465"></span><span class="anchor" id="line-466"></span></p><p class="line874">"Generally, the best way to fix things is (I've written this up at somewhat more length before, but I'm too lazy to find it): <span class="anchor" id="line-467"></span><span class="anchor" id="line-468"></span></p><ul><li>back up all your state so that anything you do is re-doable if you corrupt things more! <span class="anchor" id="line-469"></span></li><li>explode any corrupt pack-files <span class="anchor" id="line-470"></span><ul><li style="list-style-type: none;">See "man git-unpack-objects", and in particular the "-r" flag. Also, please realize that it only unpacks objects that aren't already available, so you need to move the pack-file away from its normal location first (otherwise git-unpack-objects will find all objects that are in the pack-file in the pack-file itself, and not unpack anything at all) <span class="anchor" id="line-471"></span></li></ul></li><li>replace any broken and/or missing objects <span class="anchor" id="line-472"></span><ul><li style="list-style-type: none;">This is the challenging part. Sometimes (hopefully often!) you can find the missing objects in other copies of the repositories. At other times, you may need to try to find the data some other way (for example, maybe your checked-out copy contains the file content that when hashed will be the missing object?). <span class="anchor" id="line-473"></span></li></ul></li><li>make sure everything is happy with "git fsck --full" <span class="anchor" id="line-474"></span></li><li>repack everything to get back to an efficient state again. <span class="anchor" id="line-475"></span></li></ul><p class="line874">And remember: git does _not_ make backups pointless. It hopefully makes backups *easy* (since cloning and pulling is easy), but the basic need for backups does not go away!" <span class="anchor" id="line-476"></span><span class="anchor" id="line-477"></span></p><p class="line862">In another thread (<a class="http" href="http://thread.gmane.org/gmane.comp.version-control.git/64091/focus=64213">on gmane</a>) Linus explained how to find and fix a corrupt object: <span class="anchor" id="line-478"></span><span class="anchor" id="line-479"></span></p><p class="line874">"First off, move the corrupt object away, and *save* it. The most common  cause of corruption so far has been memory corruption, but even so, there  are people who would be interested in seeing the corruption - but it's  basically impossible to judge the corruption until we can also see the  original object, so right now the corrupt object is useless, but it's very  interesting for the future, in the hope that you can re-create a  non-corrupt version. <span class="anchor" id="line-480"></span><span class="anchor" id="line-481"></span></p><p class="line874">So: <span class="anchor" id="line-482"></span><span class="anchor" id="line-483"></span></p><p class="line867"><span class="anchor" id="line-484"></span></p><pre>$ mv .git/objects/4b/9458b3786228369c63936db65827de3cc06200 ../
<span class="anchor" id="line-485"></span></pre><span class="anchor" id="line-486"></span><span class="anchor" id="line-487"></span><p class="line874">This is the right thing to do, although it's usually best to save it under  it's full SHA1 name (you just dropped the "4b" from the result ;). <span class="anchor" id="line-488"></span><span class="anchor" id="line-489"></span></p><p class="line874">Let's see what that tells us: <span class="anchor" id="line-490"></span><span class="anchor" id="line-491"></span></p><p class="line867"><span class="anchor" id="line-492"></span></p><pre>$ git fsck --full
<span class="anchor" id="line-493"></span>&gt; broken link from    tree 2d9263c6d23595e7cb2a21e5ebbb53655278dff8
<span class="anchor" id="line-494"></span>&gt;              to    blob 4b9458b3786228369c63936db65827de3cc06200
<span class="anchor" id="line-495"></span>&gt; missing blob 4b9458b3786228369c63936db65827de3cc06200
<span class="anchor" id="line-496"></span></pre><span class="anchor" id="line-497"></span><span class="anchor" id="line-498"></span><p class="line874">Ok, I removed the "dangling commit" messages, because they are just  messages about the fact that you probably have rebased etc, so they're not  at all interesting. But what remains is still very useful. In particular,  we now know which tree points to it! <span class="anchor" id="line-499"></span><span class="anchor" id="line-500"></span></p><p class="line874">Now you can do <span class="anchor" id="line-501"></span><span class="anchor" id="line-502"></span></p><p class="line867"><span class="anchor" id="line-503"></span></p><pre>   git ls-tree 2d9263c6d23595e7cb2a21e5ebbb53655278dff8
<span class="anchor" id="line-504"></span></pre><span class="anchor" id="line-505"></span><span class="anchor" id="line-506"></span><p class="line874">which will show something like <span class="anchor" id="line-507"></span><span class="anchor" id="line-508"></span></p><p class="line867"><span class="anchor" id="line-509"></span></p><pre>   100644 blob 8d14531846b95bfa3564b58ccfb7913a034323b8    .gitignore
<span class="anchor" id="line-510"></span>   100644 blob ebf9bf84da0aab5ed944264a5db2a65fe3a3e883    .mailmap
<span class="anchor" id="line-511"></span>   100644 blob ca442d313d86dc67e0a2e5d584b465bd382cbf5c    COPYING
<span class="anchor" id="line-512"></span>   100644 blob ee909f2cc49e54f0799a4739d24c4cb9151ae453    CREDITS
<span class="anchor" id="line-513"></span>   040000 tree 0f5f709c17ad89e72bdbbef6ea221c69807009f6    Documentation
<span class="anchor" id="line-514"></span>   100644 blob 1570d248ad9237e4fa6e4d079336b9da62d9ba32    Kbuild
<span class="anchor" id="line-515"></span>   100644 blob 1c7c229a092665b11cd46a25dbd40feeb31661d9    MAINTAINERS
<span class="anchor" id="line-516"></span>   ...
<span class="anchor" id="line-517"></span></pre><span class="anchor" id="line-518"></span><span class="anchor" id="line-519"></span><p class="line874">and you should now have a line that looks like <span class="anchor" id="line-520"></span><span class="anchor" id="line-521"></span></p><p class="line867"><span class="anchor" id="line-522"></span></p><pre>   10064 blob 4b9458b3786228369c63936db65827de3cc06200     my-magic-file
<span class="anchor" id="line-523"></span></pre><span class="anchor" id="line-524"></span><span class="anchor" id="line-525"></span><p class="line874">in the output. This already tells you a *lot* it tells you what file the corrupt blob came from! <span class="anchor" id="line-526"></span><span class="anchor" id="line-527"></span></p><p class="line874">Now, it doesn't tell you quite enough, though: it doesn't tell what *version* of the file didn't get correctly written! You might be really lucky, and it may be the version that you already have checked out in your  working tree, in which case fixing this problem is really simple, just do <span class="anchor" id="line-528"></span><span class="anchor" id="line-529"></span></p><p class="line867"><span class="anchor" id="line-530"></span></p><pre>   git hash-object -w my-magic-file
<span class="anchor" id="line-531"></span></pre><span class="anchor" id="line-532"></span><span class="anchor" id="line-533"></span><p class="line874">again, and if it outputs the missing SHA1 (4b945..) you're now all done! <span class="anchor" id="line-534"></span><span class="anchor" id="line-535"></span></p><p class="line874">But that's the really lucky case, so let's assume that it was some older  version that was broken. How do you tell which version it was? <span class="anchor" id="line-536"></span><span class="anchor" id="line-537"></span></p><p class="line874">The easiest way to do it is to do <span class="anchor" id="line-538"></span><span class="anchor" id="line-539"></span></p><p class="line867"><span class="anchor" id="line-540"></span></p><pre>   git log --raw --all --full-history -- subdirectory/my-magic-file
<span class="anchor" id="line-541"></span></pre><span class="anchor" id="line-542"></span><span class="anchor" id="line-543"></span><p class="line874">and that will show you the whole log for that file (please realize that the tree you had may not be the top-level tree, so you need to figure out which subdirectory it was in on your own), and because you're asking for  raw output, you'll now get something like <span class="anchor" id="line-544"></span><span class="anchor" id="line-545"></span></p><p class="line867"><span class="anchor" id="line-546"></span></p><pre>   commit abc
<span class="anchor" id="line-547"></span>   Author:
<span class="anchor" id="line-548"></span>   Date:
<span class="anchor" id="line-549"></span>
<span class="anchor" id="line-550"></span>   ...
<span class="anchor" id="line-551"></span>   :100644 100644 4b9458b... newsha... M  somedirectory/my-magic-file
<span class="anchor" id="line-552"></span>
<span class="anchor" id="line-553"></span>   commit xyz
<span class="anchor" id="line-554"></span>   Author:
<span class="anchor" id="line-555"></span>   Date:
<span class="anchor" id="line-556"></span>
<span class="anchor" id="line-557"></span>   ...
<span class="anchor" id="line-558"></span>   :100644 100644 oldsha... 4b9458b... M   somedirectory/my-magic-file
<span class="anchor" id="line-559"></span></pre><span class="anchor" id="line-560"></span><span class="anchor" id="line-561"></span><p class="line874">and this actually tells you what the *previous* and *subsequent* versions of that file were! So now you can look at those ("oldsha" and "newsha" respectively), and hopefully you have done commits often, and can re-create the missing my-magic-file version by looking at those older and newer versions! <span class="anchor" id="line-562"></span><span class="anchor" id="line-563"></span></p><p class="line874">If you can do that, you can now recreate the missing object with <span class="anchor" id="line-564"></span><span class="anchor" id="line-565"></span></p><p class="line867"><span class="anchor" id="line-566"></span></p><pre>   git hash-object -w &lt;recreated-file&gt;
<span class="anchor" id="line-567"></span></pre><span class="anchor" id="line-568"></span><span class="anchor" id="line-569"></span><p class="line874">and your repository is good again! <span class="anchor" id="line-570"></span><span class="anchor" id="line-571"></span></p><p class="line874">(Btw, you could have ignored the fsck, and started with doing a <span class="anchor" id="line-572"></span><span class="anchor" id="line-573"></span></p><p class="line867"><span class="anchor" id="line-574"></span></p><pre>   git log --raw --all
<span class="anchor" id="line-575"></span></pre><span class="anchor" id="line-576"></span><span class="anchor" id="line-577"></span><p class="line874">and just looked for the sha of the missing object (4b9458b..) in that whole thing. It's up to you - git does *have* a lot of information, it is just missing one particular blob version. <span class="anchor" id="line-578"></span><span class="anchor" id="line-579"></span></p><p class="line874">Trying to recreate trees and especially commits is *much* harder. So you were lucky that it's a blob. It's quite possible that you can recreate the thing." <span class="anchor" id="line-580"></span><span class="anchor" id="line-581"></span></p><p class="line867"><span class="anchor" id="set-up-repo"></span> <span class="anchor" id="line-582"></span>
</p><h2 id="head-d65f30a7ebbc031cc796f1d176d5cbeb0bfc9b5c">How to set up a git server?</h2>
<span class="anchor" id="line-583"></span><p class="line862">Look for "Repository Administration" in the <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/everyday.html#Repository%20Administration">everyday git document</a>. <span class="anchor" id="line-584"></span><span class="anchor" id="line-585"></span></p><p class="line862">To setup a git server over http, see <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/howto/setup-git-server-over-http.txt">the relevant document</a>. <span class="anchor" id="line-586"></span><span class="anchor" id="line-587"></span></p><p class="line862">As well, it's worth mentioning <a class="http" href="http://scie.nti.st/2007/11/14/hosting-git-repositories-the-easy-and-secure-way">gitosis</a> is an excellent tool for setting up secure git servers. <span class="anchor" id="line-588"></span><span class="anchor" id="line-589"></span></p><p class="line867"><span class="anchor" id="create-project"></span> <span class="anchor" id="line-590"></span>
</p><h2 id="head-ce0019e2eb2e73150a8438ac3f1015f060d057a1">How to create the first project?</h2>
<span class="anchor" id="line-591"></span><p class="line862">See the <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/tutorial.html">Git tutorial</a>. <span class="anchor" id="line-592"></span><span class="anchor" id="line-593"></span></p><p class="line867">
</p><h2 id="head-14fb68e38f57da989db6dc05879ce2c6d1b8cca1">How do I publish my repo via SFTP?</h2>
<span class="anchor" id="line-594"></span><p class="line862">At the moment, git is not able to use a (dumb) sftp protocol for pushing. There is a work around, though: <a class="http" href="http://farragut.flameeyes.is-a-geek.org/articles/tag/fuse">Use sshfs</a>. But make sure that you execute 'git update-server-info' in the pushed repository! <span class="anchor" id="line-595"></span><span class="anchor" id="line-596"></span></p><p class="line874">Alternatively, you can use whatever means to mirror your .git/ directory to the server (rsync, scp -r, ...). But make sure that 'git update-server-info' was run in that repository _before_ mirroring! <span class="anchor" id="line-597"></span><span class="anchor" id="line-598"></span></p><p class="line867">
</p><h2 id="head-4accce922b66f2a1188d636bbd20d259db089187">How do I do a quick clone without history revisions?</h2>
<span class="anchor" id="line-599"></span><p class="line874">If you just want to checkout the latest source code of a project who may has very large repo,  you can use <span class="anchor" id="line-600"></span><span class="anchor" id="line-601"></span></p><pre>    git clone --depth 1 your_repo_url
<span class="anchor" id="line-602"></span></pre><span class="anchor" id="line-603"></span><span class="anchor" id="line-604"></span><span class="anchor" id="line-605"></span><p class="line867">
</p><h1 id="head-748cd02e89bfc354f7813cafd9ecbce476e38c34">Error diagnostic</h1>
<span class="anchor" id="line-606"></span><span class="anchor" id="line-607"></span><p class="line867"><span class="anchor" id="empty-ident"></span> <span class="anchor" id="line-608"></span>
</p><h2 id="head-2d5118b0ea8c2ed66fa43cbbadca156065156d1b">Git commit is dying telling me "fatal: empty ident &lt;user@myhost&gt; not allowed", what's wrong?</h2>
<span class="anchor" id="line-609"></span><p class="line862">Make sure your Full Name is not empty in chsh or the 5th field of your user line in <tt>/etc/passwd</tt> isn't empty. You can also set the <tt>GIT_AUTHOR_NAME</tt> environment variable. If your @myhost is empty make sure your hostname is correctly set. Use <tt>git&nbsp;var&nbsp;-l</tt> to make git display user identity variables. <span class="anchor" id="line-610"></span><span class="anchor" id="line-611"></span></p><ul><li><p class="line862">See <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-var.html">git-var(1)</a> <span class="anchor" id="line-612"></span><span class="anchor" id="line-613"></span></p></li></ul><p class="line867"><span class="anchor" id="change-branch"></span> <span class="anchor" id="line-614"></span>
</p><h2 id="head-a188936efde5885e0ff8540c5be897e8029047f7">Why won't git let me change to a different branch?</h2>
<span class="anchor" id="line-615"></span><p class="line862">Using <tt>git&nbsp;checkout&nbsp;&lt;branch&gt;</tt> or <tt>git&nbsp;checkout&nbsp;-b&nbsp;&lt;branch&gt;</tt> it just says: <span class="anchor" id="line-616"></span><span class="anchor" id="line-617"></span></p><p class="line867"><span class="anchor" id="line-618"></span></p><pre>fatal: Entry 'foo.c' not uptodate. Cannot merge.
<span class="anchor" id="line-619"></span></pre><span class="anchor" id="line-620"></span><p class="line862">You have changes to files in your working directory that will be overwritten, removed or otherwise lost if the checkout and change to the new branch were to proceed. To fix this you may either check your changes in, create a patch of your changes and revert your files, or use the <tt>-m</tt> flag like this: <span class="anchor" id="line-621"></span><span class="anchor" id="line-622"></span></p><p class="line867"><span class="anchor" id="line-623"></span></p><pre>$ git checkout -m -b my-branch
<span class="anchor" id="line-624"></span></pre><span class="anchor" id="line-625"></span><span class="anchor" id="line-626"></span><p class="line867"><span class="anchor" id="pu"></span> <span class="anchor" id="line-627"></span>
</p><h2 id="head-a1f9a3e511e0b866d788d7cb600637a9b976a994">refs/heads/pu: does not fast forward to branch 'pu'</h2>
<span class="anchor" id="line-628"></span><p class="line874">The "pu" branch often won't fast forward because some commits have been completely deleted in it since the last time you pulled. <span class="anchor" id="line-629"></span><span class="anchor" id="line-630"></span></p><p class="line862">If you want to track it, add a plus (+) sign to the proper line in your <tt>.git/config</tt> file, like this: <span class="anchor" id="line-631"></span><span class="anchor" id="line-632"></span></p><p class="line867"><span class="anchor" id="line-633"></span></p><pre>[remote "origin"]
<span class="anchor" id="line-634"></span>        fetch = +refs/heads/pu:refs/remotes/origin/pu
<span class="anchor" id="line-635"></span></pre><span class="anchor" id="line-636"></span><p class="line874">Which tells git to deal with the problem for you by simply skip the fast forward check (doing "true" merge instead of fast-forward). Or you can just delete that line completely if you don't want to track the pu branch at all. <span class="anchor" id="line-637"></span><span class="anchor" id="line-638"></span></p><p class="line874">It is conceivable that in future versions of git we might want to be able to mark some branches "this is expected to be rewound" explicitly and make the clone operation to take notice, to give you the plus sign automatically. <span class="anchor" id="line-639"></span><span class="anchor" id="line-640"></span></p><p class="line867">
</p><h2 id="head-c8d71d147db36c7b0f0345f5390167a47585bbb1">protocol error: bad line length character</h2>
<span class="anchor" id="line-641"></span><p class="line874">If you see the following errors: <span class="anchor" id="line-642"></span><span class="anchor" id="line-643"></span></p><p class="line867"><span class="anchor" id="line-644"></span></p><pre>fatal: protocol error: bad line length character
<span class="anchor" id="line-645"></span>error: failed to push to 'git.example.com:/Repo/Project.git'
<span class="anchor" id="line-646"></span>fatal: The remote end hung up unexpectedly
<span class="anchor" id="line-647"></span></pre><span class="anchor" id="line-648"></span><p class="line874">It likely means you have some extraneous characters, info message or something upon loging into ssh in command mode. <span class="anchor" id="line-649"></span><span class="anchor" id="line-650"></span></p><p class="line874">To test this, do: <span class="anchor" id="line-651"></span><span class="anchor" id="line-652"></span></p><p class="line867"><span class="anchor" id="line-653"></span></p><pre>ssh user@git.example.com echo testing commands
<span class="anchor" id="line-654"></span></pre><span class="anchor" id="line-655"></span><p class="line862">You should only see <tt>testing&nbsp;commands</tt> returned.  If there are any other characters, you should eamine your dot shell rc file to find any echo or other commands that may produce output. <span class="anchor" id="line-656"></span><span class="anchor" id="line-657"></span></p><p class="line867">
</p><h2 id="head-a073591f622d9be44c72e60c9cb0372a611cbcda">"unable to chdir or not a git archive" while pushing</h2>
<span class="anchor" id="line-658"></span><p class="line874">If you see the following errors: <span class="anchor" id="line-659"></span><span class="anchor" id="line-660"></span></p><p class="line867"><span class="anchor" id="line-661"></span></p><pre>fatal: 'git.exaple.com/wrong-path': unable to chdir or not a git archive
<span class="anchor" id="line-662"></span>fatal: The remote end hung up unexpectedly
<span class="anchor" id="line-663"></span>error: failed to push to 'git.exaple.com/wrong-path'
<span class="anchor" id="line-664"></span></pre><span class="anchor" id="line-665"></span><p class="line874">The most likely cause of this error is that you have incorrectly specified the path in the git url. <span class="anchor" id="line-666"></span><span class="anchor" id="line-667"></span></p><p class="line862">See the <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-push.html">git-push(1)</a> man page for more info on valid git urls. <span class="anchor" id="line-668"></span><span class="anchor" id="line-669"></span></p><p class="line867">
</p><h2 id="head-6f976e553404993ae6353d939a7fb3f3321208d8">"needs update" and "not uptodate"</h2>
<span class="anchor" id="line-670"></span><p class="line867"><span class="anchor" id="line-671"></span></p><pre>foo: needs update
<span class="anchor" id="line-672"></span>fatal: Entry 'frotz' not uptodate. Cannot merge.
<span class="anchor" id="line-673"></span></pre><span class="anchor" id="line-674"></span><p class="line867"><strong>TO DO:</strong> <em>Explain first of those messages</em> <span class="anchor" id="line-675"></span><span class="anchor" id="line-676"></span></p><p class="line862">Second of those error messages is described in <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-checkout.html">git-checkout(1)</a> man page, in the "EXAMPLES" section. It means that you have local modifications to 'frotz', which would be lost on checkout. You can give '-m' option to <tt class="backtick">git-checkout</tt>, which would try three-way merge. <span class="anchor" id="line-677"></span><span class="anchor" id="line-678"></span><span class="anchor" id="line-679"></span></p><p class="line867">
</p><h1 id="head-ebb0e35f64b552e81426c4506430253cb0e2ab6f">Importing from other revision control systems</h1>
<span class="anchor" id="line-680"></span><p class="line862">See the <a href="http://git.or.cz/gitwiki/InterfacesFrontendsAndTools#rcs-interaction">InterfacesFrontendsAndTools</a> page ("Interaction with other Revision Control Systems" section), for a good reference on how to interact with other revision control systems. <span class="anchor" id="line-681"></span><span class="anchor" id="line-682"></span></p><p class="line862">Note that you can add/import old history from other revision control system later, and join the histories using <a href="http://git.or.cz/gitwiki/GraftPoint">Graft Points</a>. <span class="anchor" id="line-683"></span><span class="anchor" id="line-684"></span></p><p class="line867"><span class="anchor" id="import-tar"></span> <span class="anchor" id="line-685"></span>
</p><h2 id="head-1ffbb9929b86618b41e3a6ed09623085766fdc37">Can I import from tar files (archives)?</h2>
<span class="anchor" id="line-686"></span><p class="line862">To import from archives (one archive file per version), to make Git know which files changed between versions despite the fact that time stamps on everything changed (i.e. <tt>--atime-preserve</tt> option of <tt>tar</tt> didn't work), use <span class="anchor" id="line-687"></span><span class="anchor" id="line-688"></span></p><p class="line867"><span class="anchor" id="line-689"></span></p><pre>$ git update-index --refresh
<span class="anchor" id="line-690"></span></pre><span class="anchor" id="line-691"></span><p class="line862">between versions, so the index <em>thinks</em> things are newer. It won't touch the "really changed" files. <span class="anchor" id="line-692"></span><span class="anchor" id="line-693"></span></p><p class="line867"><span class="anchor" id="import-cvs"></span> <span class="anchor" id="line-694"></span>
</p><h2 id="head-0232bee393748f163d256e37f4f6b72946cae456">Can I import from CVS?</h2>
<span class="anchor" id="line-695"></span><p class="line862">Yes, use <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-cvsimport.html">git-cvsimport(1)</a>, which needs <a class="http" href="http://www.cobite.com/cvsps/">CVSps</a> (<a class="http" href="http://ydirson.free.fr/en/software/scm/cvsps.html">CVSps patches</a>), or use <a class="http" href="http://gitweb.freedesktop.org/?p=users-keithp-parsecvs;a=summary">parsecvs</a>, which parses directly <tt>,v</tt> files. Yet another solution would be to use <a class="http" href="http://cvs2svn.tigris.org/cvs2git.html">cvs2svn</a>, which can import directly to Git. Lastly, there is also <a class="http" href="http://git.or.cz/gitwiki/InterfacesFrontendsAndTools#fromcvs">FromCVS toGit</a>, which is a speedy solution with incremental import and branch support, but it currently does not support normal tags. <span class="anchor" id="line-696"></span><span class="anchor" id="line-697"></span></p><ul><li><p class="line862">See <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/cvs-migration.html">the CVS migration doc</a> for more examples. <span class="anchor" id="line-698"></span></p></li><li><p class="line862">See <a class="http" href="http://git.or.cz/course/cvs.html">Git - CVS Crash Course</a> on <a class="http" href="http://git.or.cz/">Git homepage</a> <span class="anchor" id="line-699"></span><span class="anchor" id="line-700"></span></p></li></ul><p class="line867"><span class="anchor" id="import-svn"></span> <span class="anchor" id="line-701"></span>
</p><h2 id="head-39f6a37a32f4256e74f64d56739f49285f368574">Can I import from svn?</h2>
<span class="anchor" id="line-702"></span><p class="line862">Yes, use <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-svnimport.html">git-svnimport(1)</a> or <a class="http" href="http://git-svn.yhbt.net/git-svn.html">git-svn(1)</a>. Check also <a href="http://git.or.cz/gitwiki/InterfacesFrontendsAndTools#git-svnconvert">git-svnconvert</a> (in Ruby) in <a href="http://git.or.cz/gitwiki/InterfacesFrontendsAndTools">InterfacesFrontendsAndTools</a>. There is also an idea to use <tt>svnadmin&nbsp;dump</tt> <a class="http" href="http://svn.collab.net/repos/svn/trunk/notes/fs_dumprestore.txt">"dumpfile" format</a> as an input for Subversion to Git repository conversion, (similary to what <tt>parsecvs</tt> does for CVS repositories). <span class="anchor" id="line-703"></span><span class="anchor" id="line-704"></span></p><ul><li><p class="line862">See <a class="http" href="http://git.or.cz/course/svn.html">Git - SVN Crash Course</a> on <a class="http" href="http://git.or.cz/">Git homepage</a> <span class="anchor" id="line-705"></span><span class="anchor" id="line-706"></span></p></li></ul><p class="line867"><span class="anchor" id="import-arch"></span> <span class="anchor" id="line-707"></span>
</p><h2 id="head-d0f4cead1a0c1b54f7d40d5a703b9e3d3ae619ee">Can I import from arch/baz/tla?</h2>
<span class="anchor" id="line-708"></span><p class="line862">Yes, use <a class="http" href="http://www.kernel.org/pub/software/scm/git/docs/git-archimport.html">git-archimport(1)</a>, or bzr-fast-export from <tt class="backtick">exporters</tt> subdirectory of the <a class="https" href="https://launchpad.net/bzr-fastimport">bzr-fastimport project</a>. <span class="anchor" id="line-709"></span><span class="anchor" id="line-710"></span></p><p class="line867"><span class="anchor" id="import-perforce"></span> <span class="anchor" id="line-711"></span>
</p><h2 id="head-ae1025fcddf9938a285932dba7f3f4d817853808">Can I import from Perforce?</h2>
<span class="anchor" id="line-712"></span><p class="line874">Yes, there is a number of importers, including one in contrib/ directory of Git source distribution. Search Git mailing list archives for others. <span class="anchor" id="line-713"></span><span class="anchor" id="line-714"></span></p><p class="line867"><span class="anchor" id="import-hg"></span> <span class="anchor" id="line-715"></span>
</p><h2 id="head-929a8825d04dde226c2530f5337d3b3ed8dcc7ce">Can I import from Mercurial?</h2>
<span class="anchor" id="line-716"></span><p class="line862">Yes, use for example Rocco Rutte's hg-fast-export (from fast-export.git on <a class="http" href="http://repo.or.cz/">repo.or.cz</a>). <span class="anchor" id="line-717"></span><span class="anchor" id="line-718"></span></p><p class="line867"><span class="anchor" id="import-others"></span> <span class="anchor" id="line-719"></span>
</p><h2 id="head-fb7b196580510dcc2b30576c904bde31690e9575">Can I import from other SCMs?</h2>
<span class="anchor" id="line-720"></span><p class="line862">Maybe, check if Tailor (<a class="http" href="http://wiki.darcs.net/DarcsWiki/Tailor">homepage</a>) can do it. Take a look at <a href="http://git.or.cz/gitwiki/InterfacesFrontendsAndTools#rcs-interaction">InterfacesFrontendsAndTools</a> page ("Interaction with other Revision Control Systems" section) <span class="anchor" id="line-721"></span><span class="anchor" id="line-722"></span></p><p class="line867"></p><hr><p class="line874"> <span class="anchor" id="line-723"></span>
</p><h1 id="head-fd306d75ed2715b59bc4a282565a14e460a13f61">References</h1>
<span class="anchor" id="line-724"></span><ul><li><p class="line891"><a class="http" href="http://koalabs.org/%7Eange/git_faq/faq.html">GIT FAQ by Thomas Riboulet</a>. <span class="anchor" id="line-725"></span></p></li><li><p class="line891"><a href="http://git.or.cz/gitwiki/GitCommunity">GitCommunity</a>, mainly Git mailing list. <span class="anchor" id="line-726"></span></p></li><li><p class="line891"><a class="interwiki" href="http://en.wikipedia.org/wiki/Git_%28software%29" title="WikiPedia">Git (software)</a> article at Wikipedia. <span class="anchor" id="line-727"></span></p></li></ul><p class="line867"></p><hr><p class="line874"> <span class="anchor" id="line-728"></span><a href="http://git.or.cz/gitwiki/CategoryGlossary">CategoryGlossary</a> <span class="anchor" id="line-729"></span><span class="anchor" id="bottom"></span></p></div><p id="pageinfo" class="info" dir="ltr" lang="zh-tw">GitFaq  (上次是 <span title="JakubNarebski @ abvj231.neoplus.adsl.tpnet.pl[83.8.207.231]"><a href="http://git.or.cz/gitwiki/JakubNarebski" title="JakubNarebski @ abvj231.neoplus.adsl.tpnet.pl[83.8.207.231]">JakubNarebski</a></span> 在 2008-07-29 16:24:26 編輯的)</p>

<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li><a name="texteditlink" href="http://git.or.cz/gitwiki/GitFaq?action=edit&editor=text">Edit (Text)</a></li><li><a href="http://git.or.cz/gitwiki/GitFaq?action=edit&editor=gui">Edit (GUI)</a></li><li><a href="http://git.or.cz/gitwiki/GitFaq?action=info">關於</a></li><li><a href="http://git.or.cz/gitwiki/GitFaq?action=AttachFile">Attachments</a></li><li>
<form class="actionsmenu" method="get" action="http://git.or.cz/gitwiki/GitFaq">
<div>
    
    <select name="action" onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show">其他功能:</option><option value="raw">Raw Text</option>
<option value="print">檢視列印</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled="disabled" class="disabled">------------</option>
<option value="SpellCheck">拼字檢查</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled="disabled" class="disabled">------------</option>
<option value="RenamePage" disabled="disabled" class="disabled">重新命名本頁</option>
<option value="DeletePage" disabled="disabled" class="disabled">刪除本頁</option>
<option value="show" disabled="disabled" class="disabled">------------</option>
<option value="MyPages">My Pages</option>
<option value="SubscribeUser">Subscribe User</option>
<option value="show" disabled="disabled" class="disabled">------------</option>
<option value="Despam">Remove Spam</option>
<option value="PackagePages">Package Pages</option>
    </select>
    
</div>
<script type="text/javascript">

<!--// Init menu
actionsMenuInit('其他功能:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="http://moinmoin.wikiwikiweb.de/">MoinMoin Powered</a></li><li><a href="http://www.python.org/">Python Powered</a></li><li><a href="http://validator.w3.org/check?uri=referer">Valid HTML 4.01</a></li>
</ul>


</div>
</body>
</html>
